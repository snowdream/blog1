
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>snowdream - Impossible is nothing!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="snowdream">
    

    
    <meta name="description" content="android,java,nodejs">
<meta name="keywords" content="Android,Nodejs,Java">
<meta property="og:type" content="website">
<meta property="og:title" content="snowdream - Impossible is nothing!">
<meta property="og:url" content="http://www.snowdream.tech/page/2/index.html">
<meta property="og:site_name" content="snowdream - Impossible is nothing!">
<meta property="og:description" content="android,java,nodejs">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="snowdream - Impossible is nothing!">
<meta name="twitter:description" content="android,java,nodejs">
<meta name="twitter:creator" content="@snowdream86">
<link rel="publisher" href="107081290425955479258">

    
    <link rel="alternative" href="/blog/atom.xml" title="snowdream - Impossible is nothing!" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/bitbug_favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/IMG_6092.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/IMG_6092.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/IMG_6092.jpg" alt="snowdream - Impossible is nothing!" title="snowdream - Impossible is nothing!"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="snowdream - Impossible is nothing!">snowdream - Impossible is nothing!</a></h1>
				<h2 class="blog-motto">Email: yanghui1986527#gmail.com    QQ: 273247606    QQ Group：529327615</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:www.snowdream.tech">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/22/build-private-os-system-with-docker-debian-mate-x2go/" title="基于Docker和Debian打造个人专属操作系统" itemprop="url">基于Docker和Debian打造个人专属操作系统</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2017-03-22T14:22:03.000Z" itemprop="datePublished"> 发表于 2017-03-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>一提到Docker，你可能想到云服务，运维等等。<br>今天，我们要谈谈Docker的本地应用，如何基于Docker和Debian打造一款个人专属操作系统。</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>一个Docker镜像运行起来就相当于一个没有桌面的Linux系统。</p>
<p>现在，我们给一个基于Debian的Docker镜像，加上Mate桌面，就成了一个完整的Linux操作系统了。</p>
<p>为了保证我们可以通过网络来访问这个系统，我们再安装上OpenSSH和X2GO。</p>
<p>这样，一款基本的个人专属操作系统就完成了。当然，你可以在这个基础上，增加常用的软件，打造自己的个人专属操作系统。</p>
<h2 id="构成"><a href="#构成" class="headerlink" title="构成"></a>构成</h2><p>主要包含以下几个部分：</p>
<ul>
<li>Debian jessie</li>
<li>Mate Desktop</li>
<li>Openssh-server</li>
<li>X2goserver</li>
</ul>
<h2 id="下载-amp-amp-安装"><a href="#下载-amp-amp-安装" class="headerlink" title="下载 &amp;&amp; 安装"></a>下载 &amp;&amp; 安装</h2><h3 id="1-snowdream-desktop"><a href="#1-snowdream-desktop" class="headerlink" title="1. snowdream/desktop"></a>1. snowdream/desktop</h3><p>下载Docker镜像：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull snowdream/desktop</span><br></pre></td></tr></table></figure></p>
<h3 id="2-X2Go-客户端"><a href="#2-X2Go-客户端" class="headerlink" title="2. X2Go 客户端"></a>2. X2Go 客户端</h3><p>以mac为例，其他参考： <a href="http://wiki.x2go.org/doku.php/doc:installation:x2goclient" target="_blank" rel="noopener">http://wiki.x2go.org/doku.php/doc:installation:x2goclient</a></p>
<p>先下载安装XQuartz-2.7.11.dmg（<a href="https://www.xquartz.org）" target="_blank" rel="noopener">https://www.xquartz.org）</a></p>
<p>再下载安装x2goclient （<a href="https://code.x2go.org/releases/binary-macosx/x2goclient/releases/4.1.0.0/）" target="_blank" rel="noopener">https://code.x2go.org/releases/binary-macosx/x2goclient/releases/4.1.0.0/）</a></p>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><h3 id="1-启动snowdream-desktop"><a href="#1-启动snowdream-desktop" class="headerlink" title="1. 启动snowdream/desktop"></a>1. 启动snowdream/desktop</h3><p>通过以下Docker命令，启动镜像。<br>请留意提示的root和dockerx用户的密码，并记录下来。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CID=$(docker run -p 2222:22 -t -d snowdream/desktop)</span><br><span class="line">docker logs <span class="variable">$CID</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-通过ssh访问"><a href="#2-通过ssh访问" class="headerlink" title="2. 通过ssh访问"></a>2. 通过ssh访问</h3><p>通过以下终端命令，连接上面的镜像。<br>密码见前面的提示。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@localhost -p 2222</span><br></pre></td></tr></table></figure></p>
<h3 id="3-通过x2go访问桌面"><a href="#3-通过x2go访问桌面" class="headerlink" title="3. 通过x2go访问桌面"></a>3. 通过x2go访问桌面</h3><ol>
<li>启动x2go客户端</li>
<li>配置x2go客户端</li>
</ol>
<p>点击主界面工具栏第三个按钮，看看全局设置中，XQuartz的路径和版本是否正确。</p>
<p><img src="https://static.dingtalk.com/media/lALOtOPUL80CS80CZw_615_587.png" alt="配置x2go客户端"></p>
<p>接着，按照下面提示，创建一个会话。</p>
<p>其中，Host为主机IP，Login为用户名，SSH port为ssh端口，<br>底部的会话桌面选择Mate。</p>
<p><img src="https://static.dingtalk.com/media/lALOtOL6_s0Ctc0DIg_802_693.png" alt="配置x2go客户端"></p>
<p>3.启动会话，连接桌面。</p>
<h2 id="联系方式"><a href="#联系方式" class="headerlink" title="联系方式"></a>联系方式</h2><ul>
<li>Email：yanghui1986527#gmail.com</li>
<li>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a></li>
<li>Blog: <a href="http://snowdream.github.io/blog/" target="_blank" rel="noopener">http://snowdream.github.io/blog/</a></li>
<li>简书：<a href="http://www.jianshu.com/u/748f0f7e6432" target="_blank" rel="noopener">http://www.jianshu.com/u/748f0f7e6432</a></li>
<li>云栖博客：<a href="https://yq.aliyun.com/u/snowdream86" target="_blank" rel="noopener">https://yq.aliyun.com/u/snowdream86</a> </li>
<li>QQ群: 529327615     </li>
<li>微信公众号:  sn0wdr1am    </li>
</ul>
<p><img src="https://static.dingtalk.com/media/lADOmAwFCs0BAs0BAg_258_258.jpg" alt="sn0wdr1am"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/docker/">docker</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/docker/">docker</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/03/22/build-private-os-system-with-docker-debian-mate-x2go/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/03/22/build-private-os-system-with-docker-debian-mate-x2go/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/15/gradle-goodness-show-more-information/" title="Gradle精选: 关于运行失败的单元测试CASE，显示更多相关信息" itemprop="url">Gradle精选: 关于运行失败的单元测试CASE，显示更多相关信息</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2017-03-15T10:17:38.000Z" itemprop="datePublished"> 发表于 2017-03-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>在Gradle中运行单元测试很简单。一般情况下，如果有一个单元测试CASE执行失败，也会导致构建失败。但是我们却不能立刻在控制台看到为什么这个单元测试失败。我们需要先打开生成的HTML格式的测试报告。现在我们还有其他办法。</p>
<p>首先，我们创建一个下面的Gradle build文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// File: build.gradle</span><br><span class="line">apply plugin: &apos;java&apos;</span><br><span class="line"> </span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">dependencies &#123;</span><br><span class="line">    testCompile &apos;junit:junit:[4,)&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后，我们使用下面的Junit单元测试。注意，这个单元测试一直会失败，因为这就是我们想要的CASE场景。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// File: src/test/java/com/mrhaki/gradle/SampleTest.java</span><br><span class="line">package com.mrhaki.gradle;</span><br><span class="line"> </span><br><span class="line">import org.junit.*;</span><br><span class="line"> </span><br><span class="line">public class SampleTest &#123;</span><br><span class="line"> </span><br><span class="line">    @Test public void sample() &#123;</span><br><span class="line">        Assert.assertEquals(&quot;Gradle is gr8&quot;, &quot;Gradle is great&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们通过执行test任务，来运行单元测试。如果我们运行这个任务，我们发现控制台显示哪一行单元测试失败了，但是我们却看不到单元测试失败的具体原因:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ gradle test</span><br><span class="line">:compileJava UP-TO-DATE</span><br><span class="line">:processResources UP-TO-DATE</span><br><span class="line">:classes UP-TO-DATE</span><br><span class="line">:compileTestJava</span><br><span class="line">:processTestResources UP-TO-DATE</span><br><span class="line">:testClasses</span><br><span class="line">:test</span><br><span class="line"> </span><br><span class="line">com.mrhaki.gradle.SampleTest &gt; sample FAILED</span><br><span class="line">    org.junit.ComparisonFailure at SampleTest.java:8</span><br><span class="line"> </span><br><span class="line">1 test completed, 1 failed</span><br><span class="line">:test FAILED</span><br><span class="line"> </span><br><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"> </span><br><span class="line">* What went wrong:</span><br><span class="line">Execution failed for task &apos;:test&apos;.</span><br><span class="line">&gt; There were failing tests. See the report at: file:///Users/mrhaki/Projects/mrhaki.com/blog/posts/samples/gradle/testlogging/build/reports/tests/index.html</span><br><span class="line"> </span><br><span class="line">* Try:</span><br><span class="line">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</span><br><span class="line"> </span><br><span class="line">BUILD FAILED</span><br><span class="line"> </span><br><span class="line">Total time: 4.904 secs</span><br></pre></td></tr></table></figure></p>
<p>我们可以再次运行test任务，但是现在我们通过添加命令行选项-i 或者 –info来设置Gradle日志级别到info。现在我们可以在终端看到单元测试失败的具体原因了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$ gradle test -i</span><br><span class="line">Starting Build</span><br><span class="line">Settings evaluated using empty settings script.</span><br><span class="line">Projects loaded. Root project using build file</span><br><span class="line">...</span><br><span class="line">Successfully started process &apos;Gradle Worker 1&apos;</span><br><span class="line">Gradle Worker 1 executing tests.</span><br><span class="line">Gradle Worker 1 finished executing tests.</span><br><span class="line"> </span><br><span class="line">com.mrhaki.gradle.SampleTest &gt; sample FAILED</span><br><span class="line">    org.junit.ComparisonFailure: expected:&lt;gradle is gr[8]&gt; but was:&lt;gradle is gr[eat]&gt;</span><br><span class="line">        at org.junit.Assert.assertEquals(Assert.java:115)</span><br><span class="line">        at org.junit.Assert.assertEquals(Assert.java:144)</span><br><span class="line">        at com.mrhaki.gradle.SampleTest.sample(SampleTest.java:8)</span><br><span class="line">Process &apos;Gradle Worker 1&apos; finished with exit value 0 (state: SUCCEEDED)</span><br><span class="line"> </span><br><span class="line">1 test completed, 1 failed</span><br><span class="line">Finished generating test XML results (0.025 secs)</span><br><span class="line">Generating HTML test report...</span><br><span class="line">Finished generating test html results (0.027 secs)</span><br><span class="line">:test FAILED</span><br><span class="line"> </span><br><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"> </span><br><span class="line">* What went wrong:</span><br><span class="line">Execution failed for task &apos;:test&apos;.</span><br><span class="line">&gt; There were failing tests. See the report at: file:///Users/mrhaki/Projects/mrhaki.com/blog/posts/samples/gradle/testlogging/build/reports/tests/index.html</span><br><span class="line"> </span><br><span class="line">* Try:</span><br><span class="line">Run with --stacktrace option to get the stack trace. Run with --debug option to get more log output.</span><br><span class="line"> </span><br><span class="line">BUILD FAILED</span><br><span class="line"> </span><br><span class="line">Total time: 5.117 secs</span><br></pre></td></tr></table></figure></p>
<p>但是这样做仍然会产生很多干扰的日志。最好的办法就是通过配置test任务来自定义单元测试日志级别。我们可以配置不同的日志级别。为了获取单元测试失败的具体原因我们可以仅仅将exceptionFormat设置为full。示例如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// File: build.gradle</span><br><span class="line">apply plugin: &apos;java&apos;</span><br><span class="line"> </span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">dependencies &#123;</span><br><span class="line">    testCompile &apos;junit:junit:[4,)&apos;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">test &#123;</span><br><span class="line">    testLogging &#123;</span><br><span class="line">        exceptionFormat = &apos;full&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们可以再次运行test任务，并且使用正常的日志级别，但是这次，我们依然能够看到单元测试失败的具体原因，而没有其他的干扰日志。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$ gradle test</span><br><span class="line">:compileJava UP-TO-DATE</span><br><span class="line">:processResources UP-TO-DATE</span><br><span class="line">:classes UP-TO-DATE</span><br><span class="line">:compileTestJava UP-TO-DATE</span><br><span class="line">:processTestResources UP-TO-DATE</span><br><span class="line">:testClasses UP-TO-DATE</span><br><span class="line">:test</span><br><span class="line"> </span><br><span class="line">com.mrhaki.gradle.SampleTest &gt; sample FAILED</span><br><span class="line">    org.junit.ComparisonFailure: expected:&lt;gradle is gr[8]&gt; but was:&lt;gradle is gr[eat]&gt;</span><br><span class="line">        at org.junit.Assert.assertEquals(Assert.java:115)</span><br><span class="line">        at org.junit.Assert.assertEquals(Assert.java:144)</span><br><span class="line">        at com.mrhaki.gradle.SampleTest.sample(SampleTest.java:8)</span><br><span class="line"> </span><br><span class="line">1 test completed, 1 failed</span><br><span class="line">:test FAILED</span><br><span class="line"> </span><br><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"> </span><br><span class="line">* What went wrong:</span><br><span class="line">Execution failed for task &apos;:test&apos;.</span><br><span class="line">&gt; There were failing tests. See the report at: file:///Users/mrhaki/Projects/mrhaki.com/blog/posts/samples/gradle/testlogging/build/reports/tests/index.html</span><br><span class="line"> </span><br><span class="line">* Try:</span><br><span class="line">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</span><br><span class="line"> </span><br><span class="line">BUILD FAILED</span><br><span class="line"> </span><br><span class="line">Total time: 5.906 secs</span><br></pre></td></tr></table></figure></p>
<p>实例使用 Gradle 1.6 编写。</p>
<h2 id="联系方式"><a href="#联系方式" class="headerlink" title="联系方式"></a>联系方式</h2><ul>
<li>Email：yanghui1986527#gmail.com</li>
<li>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a></li>
<li>Blog: <a href="http://snowdream.github.io/blog/" target="_blank" rel="noopener">http://snowdream.github.io/blog/</a></li>
<li>简书：<a href="http://www.jianshu.com/u/748f0f7e6432" target="_blank" rel="noopener">http://www.jianshu.com/u/748f0f7e6432</a></li>
<li>云栖博客：<a href="https://yq.aliyun.com/u/snowdream86" target="_blank" rel="noopener">https://yq.aliyun.com/u/snowdream86</a> </li>
<li>QQ群: 529327615     </li>
<li>微信公众号:  sn0wdr1am    </li>
</ul>
<p><img src="https://static.dingtalk.com/media/lADOmAwFCs0BAs0BAg_258_258.jpg" alt="sn0wdr1am"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/gradle/">gradle</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/gradle/">gradle</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2017/03/15/gradle-goodness-show-more-information/#comments" class="ds-thread-count comments-count-link" data-thread-key="2017/03/15/gradle-goodness-show-more-information/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/11/27/gradle-issues-with-android/" title="Android开发中遇到的的Gradle相关问题总结" itemprop="url">Android开发中遇到的的Gradle相关问题总结</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-11-27T07:06:08.000Z" itemprop="datePublished"> 发表于 2016-11-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/11/27/gradle-issues-with-android/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/11/27/gradle-issues-with-android/</a></p>
</blockquote>
<p>现在，大家都慢慢开始习惯使用Android Studio来开发Android应用了。<br>在使用过程中，难免碰到一些Gralde相关的使用问题。下面总结我收集整理的一些碰到的问题，以及解决方案：</p>
<h2 id="1-问题：-Maven源仓库不可用，或者访问，下载非常慢。"><a href="#1-问题：-Maven源仓库不可用，或者访问，下载非常慢。" class="headerlink" title="1. 问题： Maven源仓库不可用，或者访问，下载非常慢。"></a>1. 问题： Maven源仓库不可用，或者访问，下载非常慢。</h2><p><strong>分析</strong>： 由于主要的仓库Maven，Jcenter都在国外，以及众所周知的原因，这些Maven仓库可能比较慢。而我们从新建／导入工程开始，就要和Maven源仓库进行交互，因此，这可能导致我们导入或者打开工程非常的缓慢。</p>
<p><strong>解决方案</strong>：</p>
<ol>
<li><p>优先使用国内Maven仓库镜像。推荐：阿里云Maven仓库镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maven &#123; url “http://maven.aliyun.com/mvn/repository/“ &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用http协议访问Maven仓库。使用下面的仓库来替换默认的 jcenter() 和 mavenCentral()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jcenter &#123; url “http://jcenter.bintray.com/&quot;&#125;</span><br><span class="line">maven &#123; url “http://repo1.maven.org/maven2&quot;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果你的项目不需要频繁从Maven仓库更新／下载组件，那么强烈建议你打开offline模式。</p>
</li>
</ol>
<h2 id="2-问题：-Android-Studio导入工程非常慢，甚至卡死在导入阶段。"><a href="#2-问题：-Android-Studio导入工程非常慢，甚至卡死在导入阶段。" class="headerlink" title="2. 问题： Android Studio导入工程非常慢，甚至卡死在导入阶段。"></a>2. 问题： Android Studio导入工程非常慢，甚至卡死在导入阶段。</h2><p><strong>分析</strong>：Android Studio导入工程，默认会采用Gradle Wrapper的方式。也就是当你在本地没有下载过相应版本的Gradle，在导入工程前，就会去尝试下载相应版本的Gradle。</p>
<p>关于Gradle Wrapper的配置文件，在项目根目录下gradle/wrapper下。通常是两个文件：gradle-wrapper.jar和gradle-wrapper.properties</p>
<p>我们来看看gradle-wrapper.properties文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#Mon Dec 28 10:00:20 PST 2015</span><br><span class="line">distributionBase=GRADLE_USER_HOME</span><br><span class="line">distributionPath=wrapper/dists</span><br><span class="line">zipStoreBase=GRADLE_USER_HOME</span><br><span class="line">zipStorePath=wrapper/dists</span><br><span class="line">distributionUrl=https\://services.gradle.org/distributions/gradle-2.14.1-all.zip</span><br></pre></td></tr></table></figure></p>
<p>没错，如果你之前没有通过Gradle Wrapper方式下载过这个版本Gradle，那么你导入工程后，第一件事情就是通过distributionUrl去下载gradle。然而，我们从这个来自Gradle官方的下载地址下载是非常慢的。</p>
<p><strong>解决方案</strong>：<br>1.搭建局域网HTTP服务器，镜像Gradle主流版本安装包。<br>参考：腾讯的方案：<a href="http://android-mirror.bugly.qq.com:8080/gradle/" target="_blank" rel="noopener">http://android-mirror.bugly.qq.com:8080/gradle/</a></p>
<p>2.在项目根目录build.gradle配置一个gradle wrapper任务。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">task wrapper(type: Wrapper) &#123;</span><br><span class="line">    gradleVersion = &apos;3.1&apos;</span><br><span class="line">    distributionUrl = &quot;http://android-mirror.bugly.qq.com:8080/gradle/gradle-$&#123;gradleVersion&#125;-bin.zip&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其中：gradleVersion对应gradle版本号，而distributionUrl则是对应版本的Gradle安装包下载地址。</p>
<p>3.在根目录下执行gradle wrapper 命令，然后将根目录下的gradle目录提交至git仓库。</p>
<h2 id="3-问题：-导入工程后，在Gradle-Sync阶段卡死。"><a href="#3-问题：-导入工程后，在Gradle-Sync阶段卡死。" class="headerlink" title="3. 问题： 导入工程后，在Gradle Sync阶段卡死。"></a>3. 问题： 导入工程后，在Gradle Sync阶段卡死。</h2><p>具体表现为：你以前已经在Android Studio中打开该工程，但是当你升级了本地Gradle版本，又或者使用Intellij IDEA打开，你会发现导入很慢。即使进去主界面，Gradle Sync也会处于假死状态，好像一直在加载什么。。。</p>
<p><strong>分析</strong>： 不明</p>
<p><strong>解决方案</strong>：根据网上的建议，排除以上原因之后，你可以这么干：删除工程下的.gradle文件夹，然后重新导入工程。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/gradle/">gradle</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a><a href="/tags/gradle/">gradle</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/11/27/gradle-issues-with-android/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/11/27/gradle-issues-with-android/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/27/wifi-adb-without-usb/" title="Android WiFi ADB" itemprop="url">Android WiFi ADB</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-27T03:50:16.000Z" itemprop="datePublished"> 发表于 2016-10-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/27/wifi-adb-without-usb/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/27/wifi-adb-without-usb/</a></p>
</blockquote>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>大家在开发调试Android应用的时候，都需要使用USB连接电脑和测试手机。<br>那么如何通过WIFI来连接电脑和测试手机呢？  </p>
<p>通常的做法是这样：<br>安装idea插件<a href="https://github.com/pedrovgs/AndroidWiFiADB" target="_blank" rel="noopener">AndroidWiFiADB</a>。通过这个插件，只需要用USB连接一次电脑和测试手机，之后就可以只通过WIFI来连接了。   </p>
<p>那么有没有方法，完全通过WIFI来进行连接呢？<br>下面就要介绍这样一款工具：<a href="https://github.com/Sausure/WIFIADB" target="_blank" rel="noopener">WIFIADB</a></p>
<h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>Android手机需要Root</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="WIFIADBIntelliJPlugin"><a href="#WIFIADBIntelliJPlugin" class="headerlink" title="WIFIADBIntelliJPlugin"></a>WIFIADBIntelliJPlugin</h3><p>在Idea/Android studio插件安装对话框输入“WIFI ADB ULTIMATE”，安装插件，然后重启IDE。<br><img src="https://raw.githubusercontent.com/Sausure/WIFIADB/master/WIFIADBIntelliJPlugin/art/search.png" alt="WIFIADBIntelliJPlugin"></p>
<h3 id="WIFIADBAndroid"><a href="#WIFIADBAndroid" class="headerlink" title="WIFIADBAndroid"></a>WIFIADBAndroid</h3><ol>
<li>点击，下载安装<a href="https://github.com/Sausure/WIFIADB/raw/master/WIFIADBAndroid/app/out/WIFIADBANDROID-RELEASE-1.0.APK" target="_blank" rel="noopener">WIFIADBANDROID-RELEASE-1.0.APK</a></li>
<li>测试手机连接wifi</li>
<li>启动应用，点击主界面中间的圆形按钮。如果启动成功，底部会提示IP地址和端口号。<br><img src="https://raw.githubusercontent.com/Sausure/WIFIADB/master/WIFIADBAndroid/art/demo.gif" alt="WIFIADBAndroid"></li>
</ol>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>在Idea/Android studio界面右侧，点击标签““WIFI ADB ULTIMATE””，输入IP地址和端口号,点击“Connect”即可。</p>
<p><img src="https://raw.githubusercontent.com/Sausure/WIFIADB/master/WIFIADBIntelliJPlugin/art/screenshot1.png" alt="WIFI ADB ULTIMATE"><img src="https://raw.githubusercontent.com/Sausure/WIFIADB/master/WIFIADBIntelliJPlugin/art/screenshot2.png" alt="WIFI ADB ULTIMATE"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://github.com/Sausure/WIFIADB" target="_blank" rel="noopener">WIFIADB</a></li>
<li><a href="https://github.com/pedrovgs/AndroidWiFiADB" target="_blank" rel="noopener">AndroidWiFiADB</a></li>
<li><a href="https://github.com/layerlre/ADBWIFI" target="_blank" rel="noopener">ADBWIFI</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/tools/">tools</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/tools/">tools</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/27/wifi-adb-without-usb/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/27/wifi-adb-without-usb/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/26/gradle-goodness-check-task-dependencies/" title="Gradle精选: 通过模拟运行检查Task依赖" itemprop="url">Gradle精选: 通过模拟运行检查Task依赖</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-26T10:20:56.000Z" itemprop="datePublished"> 发表于 2016-10-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/26/gradle-goodness-check-task-dependencies/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/26/gradle-goodness-check-task-dependencies/</a></p>
</blockquote>
<p>翻译自： <a href="http://mrhaki.blogspot.com/2014/11/gradle-goodness-check-task-dependencies.html" target="_blank" rel="noopener">http://mrhaki.blogspot.com/2014/11/gradle-goodness-check-task-dependencies.html</a></p>
<p>我们可以运行Gradle的任务，但是不实际执行动作。这就是所谓的模拟运行。我们可以通过模拟运行来查看，我们定义的任务依赖关系是否正确。因为，我们在进行模拟运行时，我们可以看到所有的任务和任务依赖关系输出日志。</p>
<p>例如，我们定义了一个简单的build文件，包含三个任务和一些任务依赖关系:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def printTaskNameAction = &#123;</span><br><span class="line">    println &quot;Running $&#123;it.name&#125;&quot;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">task first &lt;&lt; printTaskNameAction</span><br><span class="line"> </span><br><span class="line">task second(dependsOn: first) &lt;&lt; printTaskNameAction</span><br><span class="line"> </span><br><span class="line">task third(dependsOn: [first, second]) &lt;&lt; printTaskNameAction</span><br></pre></td></tr></table></figure></p>
<p>我们通过添加命令行选项 -m or –dry-run来进行模拟运行。因此，我们这样执行第三个任务：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ gradle -m third</span><br><span class="line">:first SKIPPED</span><br><span class="line">:second SKIPPED</span><br><span class="line">:third SKIPPED</span><br><span class="line"> </span><br><span class="line">BUILD SUCCESSFUL</span><br><span class="line"> </span><br><span class="line">Total time: 2.242 secs</span><br><span class="line">$</span><br></pre></td></tr></table></figure></p>
<p>我们在输出中可以看到，没有任何任务是实际被执行的，在输出日志中显示SKIPPED，但是我们可以看到所有被执行任务的名字。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/gradle/">gradle</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/gradle/">gradle</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/26/gradle-goodness-check-task-dependencies/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/26/gradle-goodness-check-task-dependencies/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/26/gradle-goodness-changing-name-of/" title="Gradle精选: 修改默认的Build配置文件名" itemprop="url">Gradle精选: 修改默认的Build配置文件名</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-26T08:14:14.000Z" itemprop="datePublished"> 发表于 2016-10-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/26/gradle-goodness-changing-name-of/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/26/gradle-goodness-changing-name-of/</a></p>
</blockquote>
<p>翻译自： <a href="http://mrhaki.blogspot.com/2014/10/gradle-goodness-changing-name-of.html" target="_blank" rel="noopener">http://mrhaki.blogspot.com/2014/10/gradle-goodness-changing-name-of.html</a></p>
<p>Gradle默认使用<strong>build.gradle</strong>作为默认的配置文件文件名。如果我们在<strong>build.gradle</strong>文件中编写代码，那么我们在运行任务的时候，不需要指定build文件名。我们也可以不使用<strong>build.gradle</strong>，而用另外的文件名来创建build配置文件。例如：我们可以在一个名字为<strong>sample.gradle</strong>的文件中编写代码。为了运行这个文件中的任务，我们需要在命令行，使用选项 -b 或者 –build-file，后面指定build文件名。但是，我们可以改变项目设置，并且设置项目的默认build文件名。这样设置，我们不需要再使用前面的命令行选项。</p>
<p>假设我们现在有一个build文件，<strong>sample.gradle</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// File: sample.gradle</span><br><span class="line">task sample(description: &apos;Sample task&apos;) &lt;&lt; &#123;</span><br><span class="line">    println &apos;Sample task&apos;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">defaultTasks &apos;sample&apos;</span><br></pre></td></tr></table></figure></p>
<p>为了运行sample任务，我们可以使用命令行选项 -b 或者 –build-file：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ gradle -b sample.gradle</span><br><span class="line">:sample</span><br><span class="line">Sample task</span><br><span class="line"> </span><br><span class="line">BUILD SUCCESSFUL</span><br><span class="line"> </span><br><span class="line">Total time: 3.168 secs</span><br><span class="line">$ gradle --build-file sample.gradle</span><br><span class="line">:sample</span><br><span class="line">Sample task</span><br><span class="line"> </span><br><span class="line">BUILD SUCCESSFUL</span><br><span class="line"> </span><br><span class="line">Total time: 2.148 secs</span><br><span class="line">$</span><br></pre></td></tr></table></figure></p>
<p>我们也可以改变项目默认的build文件名。首先，我们在项目根目录下创建项目设置文件<strong>settings.gradle</strong>。 在<strong>settings.gradle</strong>文件中，我们给<strong>rootProject</strong>修改属性值<strong>buildFileName</strong>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// File: settings.gradle</span><br><span class="line">// Change default build file name for this project.</span><br><span class="line">rootProject.buildFileName = &apos;sample.gradle&apos;</span><br></pre></td></tr></table></figure></p>
<p>现在，我们执行<strong>sample.gradle</strong>中的任务，不再需要使用命令行选项-b 或者 –build-file了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ gradle</span><br><span class="line">:sample</span><br><span class="line">Sample task</span><br><span class="line"> </span><br><span class="line">BUILD SUCCESSFUL</span><br><span class="line"> </span><br><span class="line">Total time: 3.312 secs</span><br><span class="line">$</span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/gradle/">gradle</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/gradle/">gradle</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/26/gradle-goodness-changing-name-of/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/26/gradle-goodness-changing-name-of/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/22/android-optimalize-series-log/" title="Android优化系列一： 日志清理" itemprop="url">Android优化系列一： 日志清理</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-22T14:19:41.000Z" itemprop="datePublished"> 发表于 2016-10-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/22/android-optimalize-series-log/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/22/android-optimalize-series-log/</a></p>
</blockquote>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>在Android应用开发过程中，通过Log类输出日志是一种很重要的调试手段。<br>大家对于Log类的使用，一般会形成几点共识：</p>
<ol>
<li>在Debug模式下打印日志，在Release模式下不打印日志</li>
<li>避免滥用Log类进行输出日志。因为这样可能造成日志刷屏，淹没真正有用的日志。</li>
<li>封装Log类，以提供同时输出日志到文件等功能</li>
</ol>
<p>具体细化为以下几点建议：</p>
<ol>
<li>禁用System.out.println<br>Android应用中，一般通过封装过的Log类来输出日志，方便控制。而System.out.println是标准的Java输出方法，使用不当，可能造成Release模式下输出日志的结果。</li>
<li><p>禁用e.printStackTrace<br>禁用理由同上<br>建议通过封装过的Log类来输出异常堆栈信息</p>
</li>
<li><p>Debug模式下，通过一个静态变量，控制日志的显示隐藏。<br>我一般习惯直接使用BuildConfig.DEBUG，当然，你也可以自己定义一个。 </p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">private static final boolean isDebug = BuildConfig.DEBUG;</span><br><span class="line"></span><br><span class="line">public static void i(String tag, String msg) &#123;</span><br><span class="line">    if (isDebug) &#123;</span><br><span class="line">        Log.i(tag, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4.Release模式下，通过Proguard配置来移除日志<br>在Proguard配置文件中，确保没有添加 –dontoptimize选项 来禁用优化的前提下，<br>添加以下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-assumenosideeffects class android.util.Log &#123;</span><br><span class="line">        public static *** d(...);</span><br><span class="line">        public static *** e(...);</span><br><span class="line">        public static *** i(...);</span><br><span class="line">        public static *** v(...);</span><br><span class="line">        public static *** println(...);</span><br><span class="line">        public static *** w(...);</span><br><span class="line">        public static *** wtf(...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>那么，是否我们按照上面的做，就真的一劳永逸呢？<br>我的脑海中浮现出几个相关问题：</p>
<ol>
<li>Proguard配置中添加的配置，真的可以在Release模式下，移除日志吗？</li>
<li>如果我们用的是封装过的Log工具类，应该怎么配置？</li>
<li>移除日志后，原来在日志方法中的拼接字符串参数，是否还会申请/占用内存？<br>…</li>
</ol>
<p>本着大胆假设，小心求证的原则，下面我们通过实践来探索上面的问题答案。</p>
<p>本文基于以下项目进行测试实践：<br><a href="https://github.com/snowdream/test/tree/master/android/test/logtest" target="_blank" rel="noopener">https://github.com/snowdream/test/tree/master/android/test/logtest</a><br>反编译工具：<a href="http://jd.benow.ca/" target="_blank" rel="noopener">JD-GUI</a></p>
<h2 id="验证Proguard配置清理日志的有效性"><a href="#验证Proguard配置清理日志的有效性" class="headerlink" title="验证Proguard配置清理日志的有效性"></a>验证Proguard配置清理日志的有效性</h2><h3 id="CASE"><a href="#CASE" class="headerlink" title="CASE"></a>CASE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Log.i(TAG,&quot;这样使用，得到的LOGTAG的值就是DroidSettings，&quot; +</span><br><span class="line">        &quot;然而并非如此，当DroidSettings这个类进行了混淆之后，类名变成了类似a,b,c这样的名称，&quot; +</span><br><span class="line">        &quot;LOGTAG则不再是DroidSettings这个值了。这样可能造成的问题就是，内部混淆有日志的包，我们去过滤DroidSettings &quot; +</span><br><span class="line">        &quot;却永远得不到任何信息。&quot;);</span><br></pre></td></tr></table></figure>
<p>在添加上述Proguard配置前后，编译打包Release模式的正式包，使用JD-GUI进行反编译，对比上述代码的编译后代码。</p>
<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>添加配置前<br><img src="/2016/10/22/android-optimalize-series-log/case1-a.png" title="[case1-a]"></p>
<p>添加配置后<br><img src="/2016/10/22/android-optimalize-series-log/case1-b.png" title="[case1-b]"></p>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>通过比对结果，我们可以得出结论：<br>通过添加Proguard配置，可以在Release模式下，移除掉日志。</p>
<h2 id="验证封装过的Log工具类，是否有必要进行而外配置"><a href="#验证封装过的Log工具类，是否有必要进行而外配置" class="headerlink" title="验证封装过的Log工具类，是否有必要进行而外配置"></a>验证封装过的Log工具类，是否有必要进行而外配置</h2><h3 id="CASE-1"><a href="#CASE-1" class="headerlink" title="CASE"></a>CASE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LogUtil.i(TAG,&quot;这样使用，得到的LOGTAG的值就是DroidSettings，&quot; +</span><br><span class="line">        &quot;然而并非如此，当DroidSettings这个类进行了混淆之后，类名变成了类似a,b,c这样的名称，&quot; +</span><br><span class="line">        &quot;LOGTAG则不再是DroidSettings这个值了。这样可能造成的问题就是，内部混淆有日志的包，我们去过滤DroidSettings &quot; +</span><br><span class="line">        &quot;却永远得不到任何信息。&quot;);</span><br></pre></td></tr></table></figure>
<p>在添加上述Proguard配置前后，编译打包Release模式的正式包，使用JD-GUI进行反编译，对比上述代码的编译后代码。</p>
<h3 id="结果-1"><a href="#结果-1" class="headerlink" title="结果"></a>结果</h3><p>添加配置前<br><img src="/2016/10/22/android-optimalize-series-log/case2-a.png" title="[case2-a]"></p>
<p>添加配置后<br><img src="/2016/10/22/android-optimalize-series-log/case2-b.png" title="[case2-b]"></p>
<h3 id="结论-1"><a href="#结论-1" class="headerlink" title="结论"></a>结论</h3><p>通过比对结果，我们可以得出结论：<br>在这种简单封装的情况下，我们不需要额外的配置，也可以将封装过的Log工具类调用日志一起移除。</p>
<p>当然，实际使用过程中，可能封装更复杂。为了保险起见，可以也添加上Log工具类的配置。示例如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-assumenosideeffects class com.github.snowdream.logtest.LogUtil &#123;</span><br><span class="line">        public static *** d(...);</span><br><span class="line">        public static *** e(...);</span><br><span class="line">        public static *** i(...);</span><br><span class="line">        public static *** v(...);</span><br><span class="line">        public static *** w(...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="验证移除日志后，字符串拼接是否还存在？"><a href="#验证移除日志后，字符串拼接是否还存在？" class="headerlink" title="验证移除日志后，字符串拼接是否还存在？"></a>验证移除日志后，字符串拼接是否还存在？</h2><h3 id="CASE-2"><a href="#CASE-2" class="headerlink" title="CASE"></a>CASE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Log.i(TAG,&quot;这样使用，得到的LOGTAG的值就是DroidSettings，&quot; +</span><br><span class="line">        &quot;然而并非如此，当DroidSettings这个类进行了混淆之后，类名变成了类似a,b,c这样的名称，&quot; +</span><br><span class="line">        &quot;LOGTAG则不再是DroidSettings这个值了。这样可能造成的问题就是，内部混淆有日志的包，我们去过滤DroidSettings &quot; +</span><br><span class="line">        &quot;却永远得不到任何信息。&quot;);</span><br><span class="line"></span><br><span class="line">Log.i(TAG, &quot;这样使用，得到的LOGTAG的值就是DroidSettings，&quot; +</span><br><span class="line">        &quot;然而并非如此，当DroidSettings这个类进行了混淆之后，类名变成了类似a,b,c这样的名称，&quot; +</span><br><span class="line">        &quot;LOGTAG则不再是DroidSettings这个值了。这样可能造成的问题就是，内部混淆有日志的包，我们去过滤DroidSettings &quot; +</span><br><span class="line">        &quot;却永远得不到任何信息。&quot; + index ++);</span><br></pre></td></tr></table></figure>
<p>上面代码的区别是：<br>前面是简单的字符串相加，而后面是字符串和变量的相加<br>在添加上述Proguard配置的前提下，分别针对以上两段代码，编译打包Release模式的正式包，使用JD-GUI进行反编译，对比上述代码的编译后代码。</p>
<h3 id="结果-2"><a href="#结果-2" class="headerlink" title="结果"></a>结果</h3><p>简单字符串相加<br><img src="/2016/10/22/android-optimalize-series-log/case1-b.png" title="[case1-b]"></p>
<p>字符串和变量相加<br><img src="/2016/10/22/android-optimalize-series-log/case3.png" title="[case3.png]"></p>
<h3 id="结论-2"><a href="#结论-2" class="headerlink" title="结论"></a>结论</h3><p>通过比对结果，我们可以得出结论：<br>如果只是简单字符串相加，是会彻底移除的，并且字符串拼接也不见了，不会占用内存。<br>而如果是字符串和变量相加，日志会移除，但是字符串拼接还在，还会占用内存。</p>
<h2 id="验证日志中使用函返回值的情况"><a href="#验证日志中使用函返回值的情况" class="headerlink" title="验证日志中使用函返回值的情况"></a>验证日志中使用函返回值的情况</h2><h3 id="CASE-3"><a href="#CASE-3" class="headerlink" title="CASE"></a>CASE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">LogUtil.i(TAG, getMessage());</span><br><span class="line"></span><br><span class="line">LogUtil.i(TAG, &quot;FROM FUNCTION &quot; + getMessage());</span><br><span class="line"></span><br><span class="line">private String getMessage() &#123;</span><br><span class="line">    return  &quot;这样使用，得到的LOGTAG的值就是DroidSettings，&quot; +</span><br><span class="line">        &quot;然而并非如此，当DroidSettings这个类进行了混淆之后，类名变成了类似a,b,c这样的名称，&quot; +</span><br><span class="line">        &quot;LOGTAG则不再是DroidSettings这个值了。这样可能造成的问题就是，内部混淆有日志的包，我们去过滤DroidSettings &quot; +</span><br><span class="line">        &quot;却永远得不到任何信息。&quot;；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码的区别是：<br>前面是直接使用函数返回值，而后面是字符串和函数返回值的相加<br>在添加上述Proguard配置的前提下，分别针对以上两段代码，编译打包Release模式的正式包，使用JD-GUI进行反编译，对比上述代码的编译后代码。</p>
<h3 id="结果-3"><a href="#结果-3" class="headerlink" title="结果"></a>结果</h3><p>直接使用函数返回值<br><img src="/2016/10/22/android-optimalize-series-log/case1-b.png" title="[case1-b]"></p>
<p>字符串和函数返回值相加<br><img src="/2016/10/22/android-optimalize-series-log/case4.png" title="[case4.png]"></p>
<h3 id="结论-3"><a href="#结论-3" class="headerlink" title="结论"></a>结论</h3><p>通过比对结果，我们可以得出结论：<br>以上两种场景下，日志移除，拼接字符串不在了，也不会占用内存。</p>
<h2 id="经过大量实践后的结论"><a href="#经过大量实践后的结论" class="headerlink" title="经过大量实践后的结论"></a>经过大量实践后的结论</h2><p>如果你以为上面就是全部真相的话，就错了。<br>经过大量的测试实践，实际上真相更复杂。</p>
<p>以下是开启Proguard前提下，各种情况下的测试结论：</p>
<ol>
<li>Log.i（简单字符串）</li>
<li>Log.i（局部变量）</li>
<li>Log.i（成员变量）</li>
<li>Log.i（简单字符串+局部变量）<br>以上四种情况，日志被彻底移除，不会额外增加内存。</li>
<li>Log.i（简单字符串+成员变量）<br>日志被移除，但是字符串拼接会存在，并占用内存。</li>
<li>Log.i（成员函数） 其中，成员函数返回值为： 简单字符串</li>
<li>Log.i（成员函数） 其中，成员函数返回值为： 简单字符串+局部变量<br>以上两种情况，日志被彻底移除，不会额外增加内存。</li>
<li>Log.i（成员函数） 其中，成员函数返回值为： 简单字符串+成员变量<br>日志被移除，但是字符串拼接会存在，并占用内存。  </li>
</ol>
<p>注：以上所有情况,参数都是指第二个或者后面的参数。第一个参数，我都使用了静态成员变量：<br>private static final String TAG = MainActivity.class.getSimpleName();</p>
<h3 id="优化建议"><a href="#优化建议" class="headerlink" title="优化建议"></a>优化建议</h3><ol>
<li><p>确保没有开启 –dontoptimize选项的前提下，添加Proguard优化日志配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-assumenosideeffects class android.util.Log &#123;</span><br><span class="line">        public static *** d(...);</span><br><span class="line">        public static *** e(...);</span><br><span class="line">        public static *** i(...);</span><br><span class="line">        public static *** v(...);</span><br><span class="line">        public static *** println(...);</span><br><span class="line">        public static *** w(...);</span><br><span class="line">        public static *** wtf(...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>针对这种情况“Log.i（成员函数） 其中，成员函数返回值为： 简单字符串+成员变量”<br>目前并没有办法规避，不建议这么使用。</p>
</li>
<li>针对这种情况”Log.i（简单字符串+成员变量)”<br>我们的解决方案是，在封装的Log工具类方法中，使用变长参数。<br>下面是一个简单的示例：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">package com.github.snowdream.logtest;</span><br><span class="line"></span><br><span class="line">import android.text.TextUtils;</span><br><span class="line">import android.util.Log;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by snowdream on 16-10-22.</span><br><span class="line"> */</span><br><span class="line">public class LogUtil &#123;</span><br><span class="line">    private static final boolean isDebug = BuildConfig.DEBUG;</span><br><span class="line"></span><br><span class="line">    public static void i(String tag, String... args) &#123;</span><br><span class="line">        if (isDebug) &#123;</span><br><span class="line">            Log.i(tag, getLog(tag,args));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void d(String tag, String... args) &#123;</span><br><span class="line">        if (isDebug) &#123;</span><br><span class="line">            Log.i(tag, getLog(tag,args));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void v(String tag, String... args) &#123;</span><br><span class="line">        if (isDebug) &#123;</span><br><span class="line">            Log.i(tag, getLog(tag,args));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void w(String tag, String... args) &#123;</span><br><span class="line">        if (isDebug) &#123;</span><br><span class="line">            Log.i(tag, getLog(tag,args));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void e(String tag, String... args) &#123;</span><br><span class="line">        if (isDebug) &#123;</span><br><span class="line">            Log.i(tag, getLog(tag,args));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static String getLog(String tag, String... args)&#123;</span><br><span class="line">        StringBuilder builder = new StringBuilder();</span><br><span class="line">        for (String arg : args)&#123;</span><br><span class="line">            if (TextUtils.isEmpty(arg)) continue;</span><br><span class="line"></span><br><span class="line">            builder.append(arg);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return builder.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://weishu.me/2015/10/19/how-to-log-safely-in-android/" target="_blank" rel="noopener">如何安全地打印日志</a></li>
<li><a href="http://droidyue.com/blog/2015/11/01/thinking-about-android-log/" target="_blank" rel="noopener">关于Android Log的一些思考</a></li>
<li><a href="http://www.jianshu.com/p/4b61391a665f" target="_blank" rel="noopener">Androrid应用打包release版时关闭log日志输出</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/22/android-optimalize-series-log/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/22/android-optimalize-series-log/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/20/mobile-app-develop-flow/" title="移动应用开发流程探索" itemprop="url">移动应用开发流程探索</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-20T10:09:40.000Z" itemprop="datePublished"> 发表于 2016-10-20</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/20/mobile-app-develop-flow/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/20/mobile-app-develop-flow/</a></p>
</blockquote>
<p>众所周知，移动应用一般都是按照预定周期进行迭代的，比如：一月发三版，两周发一版。</p>
<p>每一个迭代周期内，都会有产品，UI，研发，测试的逐步介入。</p>
<p>各种角色之间可能会有不同的依赖关系，他们并不能完全并行的工作。</p>
<p>本文主要从研发环节，以一个Android RD的视角，探索移动应用的开发流程。</p>
<h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p>本文主要泛指服务端</p>
<h3 id="SDK"><a href="#SDK" class="headerlink" title="SDK"></a>SDK</h3><p>本文主要泛指本地模块端。在模块化的背景下，移动应用被分隔成不同的模块。这些模块有可能是独立的，也有可能依赖于服务端（API）。</p>
<h3 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h3><p>本文主要泛指客户端</p>
<h2 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h2><h3 id="串行开发"><a href="#串行开发" class="headerlink" title="串行开发"></a>串行开发</h3><img src="/2016/10/20/mobile-app-develop-flow/chuanxing.svg" title="[串行开发流程图]">
<p>串行开发比较好理解，就是每个环节依次进行，每个环节都给出完整，可用的输出，提供给下一个环节，直至最后给测试。</p>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><p>每个环节给出的输出都是经过充分测试，可用的成果。</p>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><p>每个环节要等上一个环节完成开发，之后，再进行开发。</p>
<p>结果往往是，下游环节的同学，在迭代初期，开发进程被阻塞，迭代后期，因为工期紧，而没日没夜的加班。</p>
<p>浪费时间和人力。</p>
<h3 id="并行开发"><a href="#并行开发" class="headerlink" title="并行开发"></a>并行开发</h3><img src="/2016/10/20/mobile-app-develop-flow/bingxing.svg" title="[并行开发流程图]">
<p>并行开发就是API，SDK，Client各类开发人员约定接口/协议，同时进行开发。</p>
<p>至少分为两个阶段： </p>
<p>第一阶段：<br>上游环节和下游环节约定好接口/协议，并提供有接口但是无实现的依赖成果，输出给下游环节。</p>
<p>下游环节根据这些进行并行开发。</p>
<p>第二阶段：<br>上游环节完成接口/协议的实现，经过充分测试，输出完整的成果。</p>
<p>等待下游环节完成开发时，进行一次连接调试，确保业务流程完整，功能正常。</p>
<h4 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h4><p>各个环节约定好接口/协议之后，可以并行开发。</p>
<h4 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h4><p>这个需要各个环节的人员，进行及时，有效的沟通。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>根据之前的项目实践，我比较偏向于并行开发。</p>
<p>当然，对于移动应用开发流程的理解，大家见仁见智，欢迎讨论。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/project/">project</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/project/">project</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/20/mobile-app-develop-flow/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/20/mobile-app-develop-flow/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/17/android-genymotion-install-and-settings/" title="Genymotion安装配置指南" itemprop="url">Genymotion安装配置指南</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-17T03:54:52.000Z" itemprop="datePublished"> 发表于 2016-10-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/17/android-genymotion-install-and-settings/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/17/android-genymotion-install-and-settings/</a></p>
</blockquote>
<p>注： 由<a href="https://github.com/snowdream" target="_blank" rel="noopener">snowdream</a>收集整理</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Genymotion是一款基于x86架构的Android模拟器，由于系统启动速度，应用运行速度远远快于Android SDK自带模拟器而受到广泛应用。</p>
<h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>系统启动速度快</li>
<li>应用运行速度快</li>
<li>跨平台</li>
<li>IDE支持</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>与真机相比，无法支持一些硬件相关的传感器特性等</li>
<li>由于市场上大部分应用都是基于ARM架构来编译的，因此，与默认模拟器，真机相比，对于包含仅支持ARM架构的so的应用，默认不支持。</li>
</ul>
<p>注：基于x86架构的模拟器/真机，兼容ARM指令有两个解决方案：</p>
<ol>
<li>对于x86真机，x86处理器已经能够基本兼容ARM指令了。参考<a href="http://blog.csdn.net/hshl1214/article/details/50972589" target="_blank" rel="noopener">《涨姿势！x86处理器兼容ARM架构App的秘密》</a></li>
<li>对于Genymotion模拟器，则通过安装ARM_Translation_Android来进行兼容。</li>
</ol>
<h2 id="安装Genymotion"><a href="#安装Genymotion" class="headerlink" title="安装Genymotion"></a>安装Genymotion</h2><h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><ol>
<li><p><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">安装虚拟机VirtualBox  </a></p>
</li>
<li><p><a href="https://www.genymotion.com/account/create/" target="_blank" rel="noopener">注册Genymotion帐号</a></p>
</li>
<li><p><a href="https://www.genymotion.com/download/" target="_blank" rel="noopener">登录，下载并安装Genymotion</a></p>
</li>
</ol>
<h3 id="安装指南"><a href="#安装指南" class="headerlink" title="安装指南"></a>安装指南</h3><p>详细安装步骤，请参考以下文章：</p>
<ol>
<li><a href="https://docs.genymotion.com/Content/01_Get_Started/Installation.htm" target="_blank" rel="noopener">Installation</a></li>
<li><a href="http://www.jianshu.com/p/cb0e43e0996e" target="_blank" rel="noopener">Genymotion安装方法</a></li>
</ol>
<img src="/2016/10/17/android-genymotion-install-and-settings/genymotion.png" title="[Genymotion效果图]">
<h2 id="安装ARM-Translation-Android系列包"><a href="#安装ARM-Translation-Android系列包" class="headerlink" title="安装ARM_Translation_Android系列包"></a>安装ARM_Translation_Android系列包</h2><p>由于genymotion是基于x86的，而大部分应用都是基于ARM的，因此，我们需要安装一个ARM_Translation_Android系列包来增强兼容性。</p>
<h3 id="安装步骤-1"><a href="#安装步骤-1" class="headerlink" title="安装步骤"></a>安装步骤</h3><ol>
<li>点击下载ARM_Translation_Android系列包<ul>
<li>Android 4.4及以下：     <a href="http://www.mirrorcreator.com/files/0ZIO8PME/Genymotion-ARM-Translation_v1.1.zip_links" target="_blank" rel="noopener">ARM Translation Installer v1.1</a></li>
<li>Android 5.x： <a href="https://mega.nz/#!Mt8kyBxa!iVJYC7eI7ruLVoaarWIa85QOm_VlH53G0knVGpoSlAE" target="_blank" rel="noopener">ARM_Translation_Lollipop</a></li>
<li>Android 6.x： <a href="https://mega.nz/#!p4lFlCZR!TFsb8dMqNdAJjKoCDPDDvNtcQdEB0-KkVlTgQVwG20s" target="_blank" rel="noopener">ARM_Translation_Marshmallow</a></li>
</ul>
</li>
<li>将下载的zip包，拖进Genymotion模拟器窗口，按照提示安装</li>
<li>安装成功后，重启Genymotion模拟器即可。</li>
</ol>
<h3 id="安装指南-1"><a href="#安装指南-1" class="headerlink" title="安装指南"></a>安装指南</h3><ol>
<li><a href="https://gist.github.com/wbroek/9321145" target="_blank" rel="noopener">Genymotion with Google Play Services</a></li>
<li><a href="http://23pin.logdown.com/posts/294446-genymotion-use-arm-translation-on-5x-image" target="_blank" rel="noopener">Use ARM Translation on 5.x image</a></li>
<li><a href="http://23pin.logdown.com/posts/691046-genymotion-use-arm-translation-on-6x-image" target="_blank" rel="noopener">Use ARM Translation on 6.x image</a></li>
</ol>
<p>注：以上步骤，便可满足大部分的开发测试需求。以下的步骤，都是可选步骤。</p>
<p>下面是安装微信的效果</p>
<img src="/2016/10/17/android-genymotion-install-and-settings/wechat.png" title="[wechat]">
<h2 id="安装Google-Apps"><a href="#安装Google-Apps" class="headerlink" title="安装Google Apps"></a>安装Google Apps</h2><ol>
<li>根据平台，android版本等选择不同的安装包，下载。<br><a href="http://opengapps.org/" target="_blank" rel="noopener">http://opengapps.org/</a><br><a href="https://github.com/opengapps/opengapps" target="_blank" rel="noopener">https://github.com/opengapps/opengapps</a></li>
<li>将下载的zip包，拖进Genymotion模拟器窗口，按照提示安装</li>
<li>安装成功后，重启Genymotion模拟器即可。</li>
</ol>
<h2 id="安装Xposed"><a href="#安装Xposed" class="headerlink" title="安装Xposed"></a>安装Xposed</h2><ol>
<li>根据平台，android版本等选择不同的安装包，下载。<br><a href="http://dl-xda.xposed.info/framework/" target="_blank" rel="noopener">http://dl-xda.xposed.info/framework/</a><br>其中，sdk21，sdk22，sdk23，分别对应Android 5.0，5.1， 6.0.</li>
<li>将下载的zip包，拖进Genymotion模拟器窗口，按照提示安装</li>
<li>安装成功后，重启Genymotion模拟器即可。</li>
<li>对于Android 5.0以上的手机，请前往XDA论坛主题贴下载附件 XposedInstaller_3.0_alpha4.apk，并安装。<br>下载地址：<a href="http://forum.xda-developers.com/showthread.php?t=3034811" target="_blank" rel="noopener">http://forum.xda-developers.com/showthread.php?t=3034811</a><br>如果你看到以下界面，恭喜你，Xposed Framework安装完成。</li>
</ol>
<img src="/2016/10/17/android-genymotion-install-and-settings/xposed3.png" title="[xposed3]">
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://www.jianshu.com/p/82afc1c0212e" target="_blank" rel="noopener">Android模拟器Genymotion</a></li>
<li><a href="http://www.jianshu.com/p/cb0e43e0996e" target="_blank" rel="noopener">Genymotion安装方法</a></li>
<li><a href="http://www.jianshu.com/p/7e87693e1dcd" target="_blank" rel="noopener">快到极致的 Android 模拟器Genymotion</a></li>
<li><a href="http://www.jianshu.com/p/66ec5295fc65" target="_blank" rel="noopener">Genymotion那点事儿</a></li>
<li><a href="http://repo.xposed.info/" target="_blank" rel="noopener">Xposed 官网</a></li>
<li><a href="http://forum.xda-developers.com/xposed" target="_blank" rel="noopener">Xposed XDA论坛</a></li>
<li><a href="http://forum.xda-developers.com/showthread.php?t=3034811" target="_blank" rel="noopener">[OFFICIAL] Xposed for Lollipop/Marshmallow [Android 5.0/5.1/6.0, v86, 2016/10/16]</a></li>
<li><a href="https://snowdream.github.io/blog/2016/09/02/android-install-xposed-framework/" target="_blank" rel="noopener">Xposed框架的安装</a></li>
<li><a href="https://gist.github.com/wbroek/9321145" target="_blank" rel="noopener">Genymotion with Google Play Services</a></li>
<li><a href="http://23pin.logdown.com/posts/294446-genymotion-use-arm-translation-on-5x-image" target="_blank" rel="noopener">Use ARM Translation on 5.x image</a></li>
<li><a href="http://23pin.logdown.com/posts/691046-genymotion-use-arm-translation-on-6x-image" target="_blank" rel="noopener">Use ARM Translation on 6.x image</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/17/android-genymotion-install-and-settings/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/17/android-genymotion-install-and-settings/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/11/android-secret-codes/" title="Android手机暗码浅谈" itemprop="url">Android手机暗码浅谈</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-10-11T02:41:00.000Z" itemprop="datePublished"> 发表于 2016-10-11</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<p>作者：snowdream<br>Email：yanghui1986527#gmail.com<br>Github: <a href="https://github.com/snowdream" target="_blank" rel="noopener">https://github.com/snowdream</a><br>QQ 群: 529327615<br>原文地址：<a href="https://snowdream.github.io/blog/2016/10/11/android-secret-codes/" target="_blank" rel="noopener">https://snowdream.github.io/blog/2016/10/11/android-secret-codes/</a></p>
</blockquote>
<p>注： 本文根据<a href="http://simonmarquis.github.io/Android-SecretCodes/" target="_blank" rel="noopener">《Android-SecretCodes》</a>翻译整理。</p>
<h2 id="什么是暗码？"><a href="#什么是暗码？" class="headerlink" title="什么是暗码？"></a>什么是暗码？</h2><p>在android系统中，暗码就是类似这种样式的字符串：  <code>*#*#&lt;code&gt;#*#*</code> </p>
<p>如果这样的系统暗码执行，系统会触发下面的方法：（来自 AOSP Android Open Source Project）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">static private boolean handleSecretCode(Context context, String input) &#123;</span><br><span class="line">    int len = input.length();</span><br><span class="line">    if (len &gt; 8 &amp;&amp; input.startsWith(&quot;*#*#&quot;) &amp;&amp; input.endsWith(&quot;#*#*&quot;)) &#123;</span><br><span class="line">        Intent intent = new Intent(TelephonyIntents.SECRET_CODE_ACTION,</span><br><span class="line">                Uri.parse(&quot;android_secret_code://&quot; + input.substring(4, len - 4)));</span><br><span class="line">        context.sendBroadcast(intent);</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="如何运行暗码"><a href="#如何运行暗码" class="headerlink" title="如何运行暗码?"></a>如何运行暗码?</h2><p>有两种方式可以执行运行暗码：</p>
<p>直接在手机电话拨号界面输入暗码，例如：<code>*#*#123456789#*#*</code></p>
<p>或者直接在代码中进行调用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String secretCode = &quot;123456789&quot;;</span><br><span class="line">Intent intent = new Intent(Intent.ACTION_DIAL);    </span><br><span class="line">intent.setData(Uri.parse(&quot;tel:*#*#&quot; + secretCode + &quot;#*#*&quot;));</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String secretCode = &quot;123456789&quot;;</span><br><span class="line">String action = &quot;android.provider.Telephony.SECRET_CODE&quot;;</span><br><span class="line">Uri uri = Uri.parse(&quot;android_secret_code://&quot; + secretCode);</span><br><span class="line">Intent intent = new Intent(action, uri);</span><br><span class="line">sendBroadcast(intent);</span><br></pre></td></tr></table></figure>
<h2 id="如何创建自定义暗码？"><a href="#如何创建自定义暗码？" class="headerlink" title="如何创建自定义暗码？"></a>如何创建自定义暗码？</h2><p>在你的应用AndroidManifest.xml文件中，增加以下代码，用来定义手机暗码。</p>
<p>不管什么时候暗码 <code>*#*#123456789#*#*</code> 被触发，你都将收到对应的广播。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;receiver android:name=&quot;.MySecretCodeReceiver&quot;&gt;</span><br><span class="line">    &lt;intent-filter&gt;</span><br><span class="line">        &lt;action android:name=&quot;android.provider.Telephony.SECRET_CODE&quot; /&gt;</span><br><span class="line">        &lt;data android:scheme=&quot;android_secret_code&quot; android:host=&quot;123456789&quot; /&gt;</span><br><span class="line">    &lt;/intent-filter&gt;</span><br><span class="line">&lt;/receiver&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://simonmarquis.github.io/Android-SecretCodes/" target="_blank" rel="noopener">Android Secret Codes</a></li>
<li><a href="http://blog.csdn.net/huangjuecheng/article/details/7261211" target="_blank" rel="noopener">话说android系统之暗码</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/11/android-secret-codes/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/11/android-secret-codes/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="snowdream" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/android/" title="android">android<sup>31</sup></a></li>
		  
		
		  
			<li><a href="/categories/books/" title="books">books<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/gradle/" title="gradle">gradle<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/java/" title="java">java<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/nodejs/" title="nodejs">nodejs<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/other/" title="other">other<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/project/" title="project">project<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/settings/" title="settings">settings<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/tools/" title="tools">tools<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/ubuntu/" title="ubuntu">ubuntu<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/android/" title="android">android<sup>32</sup></a></li>
			
		
			
				<li><a href="/tags/gradle/" title="gradle">gradle<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/kotlin/" title="kotlin">kotlin<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/xposed/" title="xposed">xposed<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/project/" title="project">project<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/groovy/" title="groovy">groovy<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/jni/" title="jni">jni<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/test/" title="test">test<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/java/" title="java">java<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/idea/" title="idea">idea<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ci/" title="ci">ci<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/nodejs/" title="nodejs">nodejs<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/npm/" title="npm">npm<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/maven/" title="maven">maven<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ubuntu/" title="ubuntu">ubuntu<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/tools/" title="tools">tools<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://yq.aliyun.com/users/30710776/own" target="_blank" title="面向开发者的开放型技术平台">云栖社区</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/snowdream" target="_blank" title="Github">Github</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.bwg2.com/index.html" target="_blank" title="搬瓦工VPS中文网">搬瓦工VPS中文网</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/blog/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Impossible is nothing！ <br/>
			Email: yanghui1986527#gmail.com QQ: 273247606 QQ Group：529327615</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/snowdream" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/821624" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		<a href="https://twitter.com/snowdream86" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		<a href="http://www.zhihu.com/people/snowdream1986" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		<a href="https://plus.google.com/107081290425955479258?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:yanghui1986527#gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="snowdream">snowdream</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-43950516-1', 'null');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>

<a href="https://github.com/snowdream"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
