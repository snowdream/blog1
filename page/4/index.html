
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>snowdream - Impossible is nothing!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="snowdream">
    

    
    <meta name="description" content="android,java,nodejs">
<meta name="keywords" content="Android,Nodejs,Java">
<meta property="og:type" content="website">
<meta property="og:title" content="snowdream - Impossible is nothing!">
<meta property="og:url" content="http://www.snowdream.tech/page/4/index.html">
<meta property="og:site_name" content="snowdream - Impossible is nothing!">
<meta property="og:description" content="android,java,nodejs">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="snowdream - Impossible is nothing!">
<meta name="twitter:description" content="android,java,nodejs">
<meta name="twitter:creator" content="@snowdream86">
<link rel="publisher" href="107081290425955479258">

    
    <link rel="alternative" href="/blog/atom.xml" title="snowdream - Impossible is nothing!" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/bitbug_favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/IMG_6092.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/IMG_6092.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/IMG_6092.jpg" alt="snowdream - Impossible is nothing!" title="snowdream - Impossible is nothing!"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="snowdream - Impossible is nothing!">snowdream - Impossible is nothing!</a></h1>
				<h2 class="blog-motto">Email: yanghui1986527#gmail.com    QQ: 273247606    QQ Group：529327615</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:www.snowdream.tech">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/07/02/android-ci-gitlab/" title="Android项目持续集成实践之Gitlab CI" itemprop="url">Android项目持续集成实践之Gitlab CI</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-07-02T03:39:29.000Z" itemprop="datePublished"> 发表于 2016-07-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>持续集成（Continuous integration）是一种软件开发实践，即团队开发成员经常集成它们的工作，通过每个成员每天至少集成一次，也就意味着每天可能会发生多次集成。每次集成都通过自动化的构建（包括编译，发布，自动化测试）来验证，从而尽早地发现集成错误。</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><p>下面我们来简单介绍，如果通过Gitlab CI来对Android项目持续集成。</p>
<p>一言不合，先甩给你一个项目链接：<br><a href="https://gitlab.com/snowdream/Citest" target="_blank" rel="noopener">https://gitlab.com/snowdream/Citest</a></p>
<p>项目很简单，就是一个默认创建的Android项目，然后上传至Gitlab。</p>
<p>如果给项目添加持续集成功能呢？<br>按照文档的说法，你需要给项目添加一个名称为.gitlab-ci.yml的配置文件。</p>
<p>.gitlab-ci.yml文件怎么写？？此处省略108个字。<br>通读下面两篇文章，大概就清楚了。<br><a href="http://doc.gitlab.com/ce/ci/quick_start/README.html" target="_blank" rel="noopener">http://doc.gitlab.com/ce/ci/quick_start/README.html</a><br><a href="http://doc.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">http://doc.gitlab.com/ce/ci/yaml/README.html</a></p>
<p>当然，也许你读完了，还是感觉蒙了。那你还需要参考下别人怎么实践的。</p>
<ol>
<li><a href="http://doc.gitlab.com/ce/ci/quick_start/README.html" target="_blank" rel="noopener">http://doc.gitlab.com/ce/ci/quick_start/README.html</a></li>
<li><a href="http://doc.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">http://doc.gitlab.com/ce/ci/yaml/README.html</a></li>
<li><a href="http://www.greysonparrelli.com/setting-up-android-builds-in-gitlab-ci/" target="_blank" rel="noopener">http://www.greysonparrelli.com/setting-up-android-builds-in-gitlab-ci/</a></li>
<li><a href="https://github.com/asura-app/android/blob/master/.gitlab-ci.yml" target="_blank" rel="noopener">https://github.com/asura-app/android/blob/master/.gitlab-ci.yml</a></li>
<li><a href="https://github.com/lfuelling/android-sdk-docker" target="_blank" rel="noopener">https://github.com/lfuelling/android-sdk-docker</a></li>
<li><a href="https://hub.docker.com/r/jangrewe/gitlab-ci-android/" target="_blank" rel="noopener">https://hub.docker.com/r/jangrewe/gitlab-ci-android/</a></li>
<li><a href="http://blog.goddchen.de/2016/04/configuration-for-gitlab-ci-android-projects/" target="_blank" rel="noopener">http://blog.goddchen.de/2016/04/configuration-for-gitlab-ci-android-projects/</a></li>
<li><a href="http://stackoverflow.com/questions/35916233/gitlab-com-ci-shared-runner-for-android-projects" target="_blank" rel="noopener">http://stackoverflow.com/questions/35916233/gitlab-com-ci-shared-runner-for-android-projects</a></li>
</ol>
<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><p><strong> 下面是重点:</strong><br>基本流程是：</p>
<ol>
<li>Gitlab Ci通过Docker来拉取包括openjdk-8-jdk的容器</li>
<li>下载Android SDK</li>
<li>通过Gradle Wrapper运行编译工程</li>
</ol>
<p><strong> 下面是主菜： </strong><br>适用于Android项目的 .gitlab-ci.yml 文件<br>当然，在实际过程中，你可以需要做一些调整，比如android sdk 中的版本号等。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">image: java:openjdk-8-jdk</span><br><span class="line"> </span><br><span class="line">before_script:</span><br><span class="line">  - apt-get --quiet update --yes</span><br><span class="line">  - apt-get --quiet install --yes wget tar unzip lib32stdc++6 lib32z1</span><br><span class="line">  - wget --quiet --output-document=android-sdk.tgz https://dl.google.com/android/android-sdk_r24.4.1-linux.tgz</span><br><span class="line">  - tar --extract --gzip --file=android-sdk.tgz</span><br><span class="line">  - echo y | android-sdk-linux/tools/android --silent update sdk --no-ui --all --filter android-23</span><br><span class="line">  - echo y | android-sdk-linux/tools/android --silent update sdk --no-ui --all --filter platform-tools</span><br><span class="line">  - echo y | android-sdk-linux/tools/android --silent update sdk --no-ui --all --filter build-tools-23.0.3</span><br><span class="line">  - echo y | android-sdk-linux/tools/android --silent update sdk --no-ui --all --filter extra-android-m2repository</span><br><span class="line">  - echo y | android-sdk-linux/tools/android --silent update sdk --no-ui --all --filter extra-google-google_play_services</span><br><span class="line">  - echo y | android-sdk-linux/tools/android --silent update sdk --no-ui --all --filter extra-google-m2repository</span><br><span class="line">  - export ANDROID_HOME=$PWD/android-sdk-linux</span><br><span class="line">  - chmod u+x ./gradlew</span><br><span class="line"> </span><br><span class="line">build:</span><br><span class="line">  script:</span><br><span class="line">    - ./gradlew assembleRelease</span><br><span class="line">  artifacts:</span><br><span class="line">    paths:</span><br><span class="line">    - app/build/outputs/</span><br></pre></td></tr></table></figure></p>
<p>好了。将.gitlab-ci.yml 添加到你的Android项目中，然后上传至Gitlab系列的Git服务器，就开始持续集成了。</p>
<p>详细的构建过程日志太长，我就不贴了。链接如下：<br><a href="https://gitlab.com/snowdream/Citest/builds/2140420" target="_blank" rel="noopener">https://gitlab.com/snowdream/Citest/builds/2140420</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>与Travis Ci相比，Gitlab CI更灵活，可定制性高，但也意味着用起来并不是那么容易。<br>Travis Ci 更倾向于提供一个开箱即用的 CI服务。<br>而 Gitlab CI 更倾向于提供一个定制化的CI服务，比如支持Docker。<br>以上只是对于通过Gitlab CI对Android项目进行持续集成的简单实践。<br>如果感兴趣，大家可以思考下下面的问题：</p>
<ol>
<li>怎么通过Gitlab CI进行持续发布？</li>
<li>怎么在Gitlab CI 加密字符串和文件，比如keystore文件？</li>
<li>怎么在Gitlab CI中进行交互性操作，比如输入密码？</li>
<li>怎么在过Gitlab CI中使用缓存？</li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/07/02/android-ci-gitlab/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/07/02/android-ci-gitlab/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/06/ubuntu-16-04-configure/" title="Ubuntu 16.04 安装配置指南" itemprop="url">Ubuntu 16.04 安装配置指南</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-05-06T22:27:35.000Z" itemprop="datePublished"> 发表于 2016-05-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="系统及制作工具"><a href="#系统及制作工具" class="headerlink" title="系统及制作工具"></a>系统及制作工具</h2><ol>
<li>ubuntu 下载网站<br><a href="http://releases.ubuntu.com/" target="_blank" rel="noopener">http://releases.ubuntu.com/</a></li>
<li>ubuntu gnome<br><a href="http://cdimage.ubuntu.com/ubuntu-gnome/releases/16.04/release/" target="_blank" rel="noopener">http://cdimage.ubuntu.com/ubuntu-gnome/releases/16.04/release/</a></li>
<li>ubuntu 启动U盘制作工具<br><a href="http://www.pendrivelinux.com/yumi-multiboot-usb-creator/" target="_blank" rel="noopener">YUMI – Multiboot USB  Creator</a>   </li>
</ol>
<h2 id="常用软件"><a href="#常用软件" class="headerlink" title="常用软件"></a>常用软件</h2><ol>
<li>Chrome<br><a href="https://www.douban.com/note/252982281/" target="_blank" rel="noopener">https://www.douban.com/note/252982281/</a></li>
<li>搜狗拼音输入法<br><a href="http://www.zhixing123.cn/ubuntu/53207.html" target="_blank" rel="noopener">http://www.zhixing123.cn/ubuntu/53207.html</a></li>
<li>办公Office软件 WPS<br><a href="http://wps-community.org/download.html" target="_blank" rel="noopener">http://wps-community.org/download.html</a></li>
<li>MuPDF<br><a href="http://mupdf.com/" target="_blank" rel="noopener">http://mupdf.com/</a></li>
<li>钉钉<br><a href="https://im.dingtalk.com/" target="_blank" rel="noopener">https://im.dingtalk.com/</a></li>
<li>QQ<br><a href="http://w.qq.com/" target="_blank" rel="noopener">http://w.qq.com/</a></li>
<li>微信<br><a href="https://github.com/geeeeeeeeek/electronic-wechat" target="_blank" rel="noopener">https://github.com/geeeeeeeeek/electronic-wechat</a></li>
</ol>
<h2 id="编程相关"><a href="#编程相关" class="headerlink" title="编程相关"></a>编程相关</h2><ol>
<li>JDK8     <ul>
<li><a href="http://askubuntu.com/questions/521145/how-to-install-oracle-java-on-ubuntu-14-04" target="_blank" rel="noopener">http://askubuntu.com/questions/521145/how-to-install-oracle-java-on-ubuntu-14-04</a>      </li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-java-on-ubuntu-with-apt-get" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to- install-java-on-ubuntu-with-apt-get</a></li>
</ul>
</li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ubuntu/">ubuntu</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/ubuntu/">ubuntu</a><a href="/tags/linux/">linux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/06/ubuntu-16-04-configure/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/06/ubuntu-16-04-configure/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/20/gitbook-android/" title="Gitbook离线电子书打包方案" itemprop="url">Gitbook离线电子书打包方案</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-04-20T05:13:42.000Z" itemprop="datePublished"> 发表于 2016-04-20</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Gitbook是一个开源的跨平台电子书解决方案。通过Gitbook，你可以使用Markdown或者AsciiDoc来编写电子书，然后生成静态网页电子书，pdf，mobi，epub格式。<br>这里，我们简单介绍一个适用于Android的离线电子书打包方案。 <a href="https://github.com/snowdream/gitbook-android" target="_blank" rel="noopener">gitbook-android</a></p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>通过Gitbook，将电子书打包成静态网站。再将静态网站放到Android APP的assets目录下，作为离线网站，打包成一个离线电子书应用（Android APP）。</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol>
<li>按照Gitbook规范，编写gitbook电子书</li>
<li>通过Gitbook，将电子书打包成静态网站</li>
<li>使用git将工程<a href="https://github.com/snowdream/gitbook-android" target="_blank" rel="noopener">gitbook-android</a>克隆下来</li>
<li>将静态网站放在gitbook-android工程的assets/book目录下</li>
<li>在“gitbook-android\app\src\main\res\values\strings.xml”中修改app_name</li>
<li>在“gitbook-android\app\build.gradle”中修改包名 applicationId “com.github.snowdream.apps.gitbook”</li>
<li><p>新增以下四个keystore相关的环境变量，用于APK签名.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">KEYSTORE</span><br><span class="line">KEYSTORE_PASSWORD</span><br><span class="line">KEY_ALIAS</span><br><span class="line">KEY_PASSWORD</span><br></pre></td></tr></table></figure>
</li>
<li><p>在gitbook-android工程目录下，运行<code>gradle assembleRelease --info</code>即可。</p>
</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://github.com/snowdream/gitbook-android" target="_blank" rel="noopener">gitbook-android</a></li>
<li><a href="https://github.com/GitbookIO/gitbook" target="_blank" rel="noopener">Gitbook</a></li>
<li><a href="https://www.gitbook.com" target="_blank" rel="noopener">gitbook.com</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/04/20/gitbook-android/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/04/20/gitbook-android/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/06/agile-development-advices/" title="敏捷开发的几点建议" itemprop="url">敏捷开发的几点建议</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-04-06T21:54:30.000Z" itemprop="datePublished"> 发表于 2016-04-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>移动互联网行业由于节奏快，产品迭代周期短，因此多采用敏捷开发进行快速迭代。<br>下面我从Android客户端研发的角度，说说敏捷开发中的几点建议：   </p>
<h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><p>当项目开始变得很大时，需要按照主要功能进行模块化。同时对人员进行分组,每组负责一个主要模块。<br>由于迭代周期短，任务重，可能在开发过程中，某个模块无法按照要求，在既定的时间内完成开发任务。这时，应该由产品进行评估，是否进行跨版本开发。如果进行跨版本开发，该模块在本次迭代过程中不参与合并代码，推迟到下个迭代周期。<br>最大限度减少模块之间的依赖，不要让某一个模块的跨版本开发，阻碍迭代周期内，整个项目的代码合并。</p>
<h2 id="结构清晰，通俗易懂"><a href="#结构清晰，通俗易懂" class="headerlink" title="结构清晰，通俗易懂"></a>结构清晰，通俗易懂</h2><p>项目的开发从来不是一个人的事情，而项目的每个模块也不会一直由某个人来负责。<br>代码逻辑结构复杂，混乱，会给人员的工作交接，需求开发带来难度，同时可能埋下很多BUG的隐患。<br>因此，代码逻辑结构清晰，通俗易懂，很重要。  </p>
<p>如何保持代码逻辑结构清晰？</p>
<ol>
<li>保持树形的逻辑结构。每一次从上层响应到底层实现，都应该保持直线的流程，而不是类似盘山公路那样弯弯绕绕的流程，更不应该像迷宫一样错综复杂的流程。</li>
<li>函数嵌套调用需谨慎。在一个函数中调用另外一个函数是很普通的，但是毫无意义，或者毫无理由的嵌套调用容易带来问题。举个例子，函数A内，调用了函数B。意味着，函数B是函数A内的一个环节，每次调用函数A，间接调用函数B是没有问题的。如果我在调用函数A的时候，并不需要每次都调用函数B，那么函数B不应嵌套在函数A内。</li>
<li>及时删除过期的功能和代码。在迭代过程中，不仅有功能上线，也有功能下线。对于下线功能，需要和产品确认是暂时下线，还是永久下线。如果是永久下线，应该删除掉该功能所有相关代码和资源。大量的过期代码会使得代码臃肿，结构复杂，不易维护。</li>
<li>经常梳理代码结构。迭代过程中，新增功能，新增代码可能会使得代码结构重新混乱。因此，需要经常性的梳理代码结构，使得代码结构清晰。否则，随着人员的更替，可能出现部分代码，大家都看不懂，又不敢删除的尴尬局面。</li>
</ol>
<p>如何保证通俗易懂？</p>
<ol>
<li>函数名称最好能体现该函数的功能。如果函数名称不能准确描述函数的功能，则应该在函数注释中进行准确的描述。</li>
<li>函数功能应该单一。不应该像万金油一样，包治百病。</li>
<li>函数体一般不宜过长。函数体过长，不容易看懂，不容易维护，此时，应该对函数体进行拆分。</li>
<li>对于不容易看懂的代码块应该加注释。比如，某个地方突然用了经验值，这个应该说明，不然谁也不知道这个值哪里冒出来的。又比如，某个地方用了不常规代码（Hack性质的，黑科技），也应该进行注释说明。</li>
</ol>
<h2 id="时间规划合理"><a href="#时间规划合理" class="headerlink" title="时间规划合理"></a>时间规划合理</h2><p>敏捷开发是为了功能的快速实现，推给用户。那如何保证功能的稳定性，代码的健壮性呢？</p>
<ol>
<li>给产品充足的时间，让他们充分考虑功能实现的各个细节，包括功能拆分，功能的预期，功能的入口（可能有多个），研发上下游（平台，客户端，H5）各自应该负责开发哪些部分等。</li>
<li>给研发充足的时间。开发功能并不是买菜做饭，按部就班。给他们构思的时间，让他们好好考虑功能应该怎么实现。记住，不给研发构思的时间，就不得不给研发更多修改BUG的时间。</li>
<li>给测试充足的时间，让他们充分测试产品功能正确与否，产品的易用性，稳定性等。</li>
</ol>
<h2 id="快速响应能力"><a href="#快速响应能力" class="headerlink" title="快速响应能力"></a>快速响应能力</h2><p>如果产品发布出去了，发现重大问题怎么办？？<br>对于Web页面，通过紧急修改，测试，发布解决。<br>对于客户端而言，当然也要紧急修改，测试，发布。但由于涉及到多渠道，上线审核等因素，产品无法立刻更新发布。此时，建议采用热补丁方案。详细思路，请参考：<a href="https://mp.weixin.qq.com/s?__biz=MzI1MTA1MzM2Nw==&amp;mid=400118620&amp;idx=1&amp;sn=b4fdd5055731290eef12ad0d17f39d4a&amp;scene=1&amp;srcid=1106Imu9ZgwybID13e7y2nEi#wechat_redirect" target="_blank" rel="noopener">《安卓App热补丁动态修复技术介绍》</a><br>下面是几种比较流行的开源热补丁方案：</p>
<ol>
<li><a href="https://github.com/alibaba/AndFix" target="_blank" rel="noopener">AndFix</a></li>
<li><a href="https://github.com/dodola/HotFix" target="_blank" rel="noopener">HotFix</a></li>
<li><a href="https://github.com/jasonross/Nuwa" target="_blank" rel="noopener">Nuwa</a></li>
<li><a href="https://github.com/bunnyblue/DroidFix" target="_blank" rel="noopener">DroidFix</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/other/">other</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/04/06/agile-development-advices/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/04/06/agile-development-advices/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/31/proxy-settings-with-shadowsocks/" title="代理服务器设置 - Shadowsocks &amp;&amp; XX-Net" itemprop="url">代理服务器设置 - Shadowsocks &amp;&amp; XX-Net</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-03-31T09:35:12.000Z" itemprop="datePublished"> 发表于 2016-03-31</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>本文主要关注通过shadowsocks和XX-Net工具，为git,nodejs,gradle,maven等进行代理服务器的配置。</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="Shadowsocks"><a href="#Shadowsocks" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h3><p>Shadowsocks 是一个高性能，跨平台，安全的socks5代理服务器。<br>Windows上的客户端大概是下面这个样子。</p>
<img src="/2016/03/31/proxy-settings-with-shadowsocks/20160331174929.png" title="[代理服务器设置 - Shadowsocks]">
<p>在开发过程中，我们可能需要用到它。</p>
<p>一般对应的本地代理服务器是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxy = http://127.0.0.1:1080</span><br><span class="line">https-proxy = http://127.0.0.1:1080</span><br></pre></td></tr></table></figure></p>
<p>注意：实际端口号可能不一样，以Shadowsocks客户端设置的本地端口号为准。</p>
<h3 id="XX-Net"><a href="#XX-Net" class="headerlink" title="XX-Net"></a>XX-Net</h3><p>XX-Net是一个基于Goagent的免费翻墙工具套件。<br>一般对应的本地代理服务器是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxy = http://127.0.0.1:8087</span><br><span class="line">https-proxy = http://127.0.0.1:8087</span><br></pre></td></tr></table></figure></p>
<p>注意：实际端口号可能不一样，以XX-Net客户端设置的本地端口号为准。</p>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p>下面以Shadowsocks为例，介绍各项工具应该怎么配置代理服务器。<br>如果使用XX-Net,请注意修改代理服务器的端口号。</p>
<h3 id="Gradle"><a href="#Gradle" class="headerlink" title="Gradle"></a>Gradle</h3><p>在用户主目录下.gradle目录下，找到gradle.properties,并使用文本编辑器编辑。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">systemProp.http.proxyHost=127.0.0.1</span><br><span class="line">systemProp.http.proxyPort=1080</span><br><span class="line">systemProp.http.proxyUser=userid</span><br><span class="line">systemProp.http.proxyPassword=password</span><br><span class="line">systemProp.http.nonProxyHosts=*.nonproxyrepos.com|localhost</span><br><span class="line"></span><br><span class="line">systemProp.https.proxyHost=127.0.0.1</span><br><span class="line">systemProp.https.proxyPort=1080</span><br><span class="line">systemProp.https.proxyUser=userid</span><br><span class="line">systemProp.https.proxyPassword=password</span><br><span class="line">systemProp.https.nonProxyHosts=*.nonproxyrepos.com|localhost</span><br></pre></td></tr></table></figure></p>
<h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><p>在用户主目录下.m2目录下，找到settings.xml,并使用文本编辑器编辑。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;proxies&gt;</span><br><span class="line">  &lt;proxy&gt;  </span><br><span class="line">     &lt;active&gt;<span class="literal">true</span>&lt;/active&gt;  </span><br><span class="line">     &lt;protocol&gt;http&lt;/protocol&gt;  </span><br><span class="line">     &lt;host&gt;127.0.0.1&lt;/host&gt;  </span><br><span class="line">     &lt;port&gt;1080&lt;/port&gt;  </span><br><span class="line">     &lt;username&gt;proxyuser&lt;/username&gt;  </span><br><span class="line">     &lt;password&gt;somepassword&lt;/password&gt;  </span><br><span class="line">     &lt;nonProxyHosts&gt;www.google.com|*.somewhere.com&lt;/nonProxyHosts&gt;  </span><br><span class="line">  &lt;/proxy&gt;</span><br><span class="line">  &lt;proxy&gt;  </span><br><span class="line">     &lt;active&gt;<span class="literal">true</span>&lt;/active&gt;  </span><br><span class="line">     &lt;protocol&gt;https&lt;/protocol&gt;  </span><br><span class="line">     &lt;host&gt;127.0.0.1&lt;/host&gt;  </span><br><span class="line">     &lt;port&gt;1080&lt;/port&gt;  </span><br><span class="line">     &lt;username&gt;proxyuser&lt;/username&gt;  </span><br><span class="line">     &lt;password&gt;somepassword&lt;/password&gt;  </span><br><span class="line">     &lt;nonProxyHosts&gt;www.google.com|*.somewhere.com&lt;/nonProxyHosts&gt;  </span><br><span class="line">  &lt;/proxy&gt;</span><br><span class="line">&lt;/proxies&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> proxy http://127.0.0.1:1080</span><br><span class="line">npm config <span class="built_in">set</span> https-proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure>
<h3 id="APM"><a href="#APM" class="headerlink" title="APM"></a>APM</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apm config <span class="built_in">set</span> proxy http://127.0.0.1:1080</span><br><span class="line">apm config <span class="built_in">set</span> https-proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure>
<h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><pre><code class="bash">git config --global http.proxy http://127.0.0.1:1080
git config --global https.proxy http://127.0.0.1:1080
git config --global http.sslverify <span class="literal">false</span>
</code></pre>
<h3 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h3><p>打开“settings”,在左侧窗口搜索”proxy”,在右侧窗口，按照下图设置代理服务器。<br><img src="/2016/03/31/proxy-settings-with-shadowsocks/20160331190004.png" title="[代理服务器设置 - IDEA]"></p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ol>
<li><a href="https://github.com/shadowsocks/shadowsocks" target="_blank" rel="noopener">Shadowsocks</a></li>
<li><a href="https://github.com/XX-net/XX-Net" target="_blank" rel="noopener">XX-Net</a></li>
<li><a href="http://my.oschina.net/liucao/blog/522593" target="_blank" rel="noopener">npm 镜像、代理设置</a></li>
<li><a href="http://ricksu.blog.163.com/blog/static/18906433820125294929508/" target="_blank" rel="noopener">git代理设置</a></li>
<li><a href="http://blog.useasp.net/archive/2015/08/26/config-git-proxy-settings-on-windows.aspx" target="_blank" rel="noopener">Windows下git使用代理服务器的设置方法</a></li>
<li><a href="http://leolovenet.com/blog/2014/05/28/git-and-proxy/" target="_blank" rel="noopener">配置git使用proxy</a></li>
<li><a href="https://yutuo.net/archives/815b6ab682f94304.html" target="_blank" rel="noopener">Gradle代理服务器的设置方法</a></li>
<li><a href="https://maven.apache.org/guides/mini/guide-proxies.html" target="_blank" rel="noopener">Configuring a proxy</a></li>
<li><a href="http://stackoverflow.com/questions/31032174/how-to-configure-a-proxy-server-for-both-http-and-https-in-mavens-settings-xml" target="_blank" rel="noopener">How to configure a proxy server for both HTTP and HTTPS in Maven’s settings.xml?</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/settings/">settings</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/gradle/">gradle</a><a href="/tags/git/">git</a><a href="/tags/npm/">npm</a><a href="/tags/maven/">maven</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/31/proxy-settings-with-shadowsocks/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/31/proxy-settings-with-shadowsocks/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/23/mintty-chinese-garbled-code/" title="mintty 中文乱码解决方案" itemprop="url">mintty 中文乱码解决方案</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-03-23T03:20:35.000Z" itemprop="datePublished"> 发表于 2016-03-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>最新的Git For Windows采用了Mintty终端，在实际使用过程中，出现中文乱码，影响阅读体验。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ol>
<li>右键选择Git Bash终端窗口顶栏，选择”Option”;</li>
<li>左侧窗口，选中“Text”标签；</li>
<li>在右侧窗口，Locale 选择 “zh_CN”, Character set 选择 “GBK”。</li>
</ol>
<img src="/2016/03/23/mintty-chinese-garbled-code/20160323112648.png" title="[mintty 中文乱码解决方案]">

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/tools/">tools</a>
</div>


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/23/mintty-chinese-garbled-code/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/23/mintty-chinese-garbled-code/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/15/android-effective-layout/" title="Android 高效布局的几点建议" itemprop="url">Android 高效布局的几点建议</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-03-15T20:18:29.000Z" itemprop="datePublished"> 发表于 2016-03-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>在Android应用开发过程中，布局是一项最基础的工作。<br>如何进行高效布局，提高开发效率呢? 我经过长期实践，总结了以下几条建议：</p>
<h2 id="一、-静态布局为主，动态布局为辅"><a href="#一、-静态布局为主，动态布局为辅" class="headerlink" title="一、 静态布局为主，动态布局为辅"></a>一、 静态布局为主，动态布局为辅</h2><p>1.静态布局</p>
<p>就是我们最常用的，通过xml来进行布局。</p>
<p>优点：所见即所得。布局创建，修改，预览都非常的方便。<br>缺点：灵活性稍差。</p>
<p>2.动态布局      </p>
<p> 通过Java代码来实现布局。    </p>
<p>优点：灵活性好。在应用运行过程中，可以随时去调整布局，例如：增加未加载的新控件，调整控件的位置等。<br>缺点：可见性差，维护非常的繁琐。</p>
<p>大家都知道，一个项目，一个功能，不可能自始至终都是同一个人进行维护的。人员流动，工作调整，这些都可能造成以下结果：你去接手别人维护的功能/模块，别人接手你维护的功能/模块。<strong>基于这种现状，在Android应用布局方面，可见性，可维护性显得尤为重要。</strong> 因此，我推荐的布局原则是：“静态布局为主，动态布局为辅。”</p>
<p>推荐的理由有两点：    </p>
<ol>
<li>布局是一个相对持续的过程。可能UI/UE会随时让你调整下控件之间的间距，位置等。动态布局，需要每次修改后，编译运行在手机上才能看到实际的效果。而静态布局，可以随时修改，随时预览效果。</li>
<li>静态布局，你可以通过阅读xml，预览效果，对于整个界面，可以快速的熟悉和掌握。而对于动态布局，你必须确认你对所有有关的代码熟悉后，静态布局和动态布局相结合，在脑海中对整个界面进行拼接，才能有一个整体把握。而随着布局变得复杂，这将变得越来越难。</li>
</ol>
<h2 id="二、-善用tools工具"><a href="#二、-善用tools工具" class="headerlink" title="二、 善用tools工具"></a>二、 善用tools工具</h2><p>有些布局，预览效果非常差。咋一看上去，一片空白。这样其实丧失了静态布局的一大优点“所见即所得。”整个布局之后，你编译运行到手机上，才能看到你设置的属性，间距等是否正常生效了。</p>
<p>这里，我推荐一个原则：“尽量在布局中展示你要的效果。”<br>怎么实现呢？这里需要用到一个工具，tools。</p>
<h3 id="Tools-简介和用法"><a href="#Tools-简介和用法" class="headerlink" title="Tools 简介和用法"></a>Tools 简介和用法</h3><p><strong> Tools工具的使用仅仅针对IDE有效，并不会被打包进应用。</strong></p>
<p>具体步骤如下：</p>
<ol>
<li><p>在布局最外层，加上下面这句话，声明一下。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:tools="http://schemas.android.com/tools"</span><br></pre></td></tr></table></figure>
</li>
<li><p>一般的控件属性以“android:”开头。新增一个同样的属性，改为以“tools:”开头。</p>
</li>
</ol>
<p>例如：一个TextView控件，需要设置默认状态为不可见。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"Name"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:visiblity</span>=<span class="string">"gone"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>但是你想预览它，又担心改为<code>android:visiblity=&quot;visible&quot;</code>之后忘了改回来，直接提交了。现在你不必担心，新增一个同样名称的属性，以“tools:”开头，就可以了。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"Name"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:visiblity</span>=<span class="string">"gone"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:visiblity</span>=<span class="string">"visible"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="三、-时刻谨记UI适配"><a href="#三、-时刻谨记UI适配" class="headerlink" title="三、 时刻谨记UI适配"></a>三、 时刻谨记UI适配</h2><p>由于Android开源的特性，造成Android手机种类繁多。这些手机拥有不同版本的系统，不同的屏幕分辩率，不同的配置等。<br>我们在进行布局的时候，要时刻谨记UI适配，尽最大限度去适配不同的分辨率。<br>这里，我总结几点经验：</p>
<ol>
<li>Android控件，默认会带有一点padding。 有些背景切图，可能会留有较大的余白。而UI/UE的标注图可能并没有考虑这些因素，因此，UI/UE的标注图仅供参考。实际布局过程中，可能需要稍微调整。</li>
<li>保留重要标注尺寸，忽略次要标注尺寸。举个简单的例子。假设一个顶部区域，固定高度。需要放置主标题，副标题两个文本控件。 建议这么布局，主标题和副标题使用一个竖直的LinearLayout进行包裹。主标题和副标题控件之间按照标注图设置精准的间距。之后，把整个LinearLayout竖直居中在顶部区域。</li>
<li>设置android:weight,来进行按照比例布局。</li>
<li>文本控件，需要考虑，文本过长时的省略策略。</li>
<li>防止控件相互压盖</li>
<li>切图至少提供两套，hdpi和xhdpi</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://tools.android.com/tips/layout-designtime-attributes" target="_blank" rel="noopener">Designtime Layout Attributes</a></li>
<li><a href="http://tools.android.com/tech-docs/tools-attributes" target="_blank" rel="noopener">Tools Attributes</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/15/android-effective-layout/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/15/android-effective-layout/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/11/android-color-argb-alpha-convert/" title="Android 颜色透明度换算" itemprop="url">Android 颜色透明度换算</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-03-11T02:57:35.000Z" itemprop="datePublished"> 发表于 2016-03-11</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><p>Android中的颜色值通常遵循RGB/ARGB标准，使用时通常以“#”字符开头，以16进制表示。<br>常用的颜色值格式为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#RGB</span><br><span class="line">#ARGB</span><br><span class="line">#RRGGBB</span><br><span class="line">#AARRGGBB</span><br></pre></td></tr></table></figure></p>
<p>其中，ARGB 依次代表透明度（alpha）、红色(red)、绿色(green)、蓝色(blue)。<br>以颜色值 #FF99CC00 为例，其中，FF 是透明度，99 是红色值， CC 是绿色值， 00  是蓝色值。</p>
<h3 id="透明度"><a href="#透明度" class="headerlink" title="透明度"></a>透明度</h3><ol>
<li>透明度分为256阶（0-255），计算机上用16进制表示为（00-ff）。透明就是0阶，不透明就是255阶,如果50%透明就是127阶（256的一半当然是128，但因为是从0开始，所以实际上是127）。</li>
<li><code>透明度</code> 和 <code>不透明度</code> 是两个概念， 它们加起来是1，或者100%.</li>
<li>ARGB 中的透明度alpha，表示的是不透明度。依据来自维基百科中的定义。<blockquote>
<p>The alpha channel is normally used as an opacity channel. If a pixel has a value of 0% in its alpha channel, it is fully transparent (and, thus, invisible), whereas a value of 100% in the alpha channel gives a fully opaque pixel (traditional digital images). Values between 0% and 100% make it possible for pixels to show through a background like a glass, an effect not possible with simple binary (transparent or opaque) transparency. It allows easy image compositing.</p>
</blockquote>
</li>
</ol>
<h2 id="换算"><a href="#换算" class="headerlink" title="换算"></a>换算</h2><p>在开发过程中，UI/UE给的标注图上，所有颜色值是RGB，但是透明度经常都是百分比，例如:颜色值:#FFFFFF,透明度40%。<br>使用过程中我们需要进行换算。以之前的值为例，换算过程如下:</p>
<ol>
<li>将透明度转换成不透明度(转换方式参考“透明度”，第2条) 。 不透明度为60%</li>
<li>不透明度乘以255。 我们得到结果：153</li>
<li>将计算结果转换成16进制。得到最终的不透明度：99</li>
<li>将不透明度和颜色值拼接成ARGB格式。得到最终的颜色值： #99FFFFFF</li>
</ol>
<p>简单的换算，可以先将透明度，转换成不透明度，再根据下面的表格进行对应。</p>
<pre>
100% — FF
95% — F2
90% — E6
85% — D9
80% — CC
75% — BF
70% — B3
65% — A6
60% — 99
55% — 8C
50% — 80
45% — 73
40% — 66
35% — 59
30% — 4D
25% — 40
20% — 33
15% — 26
10% — 1A
5% — 0D
0% — 00
</pre>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://developer.android.com/intl/ko/guide/topics/resources/more-resources.html#Color" target="_blank" rel="noopener">Color</a></li>
<li><a href="http://akanelee.logdown.com/posts/190198-color" target="_blank" rel="noopener">標示色碼的方法</a></li>
<li><a href="https://en.wikipedia.org/wiki/RGBA_color_space#ARGB_.28word-order.29" target="_blank" rel="noopener">RGBA color space</a></li>
<li><a href="http://stackoverflow.com/questions/5445085/understanding-colors-in-android-6-characters" target="_blank" rel="noopener">Understanding colors in Android </a></li>
<li><a href="http://stackoverflow.com/questions/11285961/how-to-make-a-background-transparent-20-in-android" target="_blank" rel="noopener">How to make a background transparent 20% in android</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/11/android-color-argb-alpha-convert/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/11/android-color-argb-alpha-convert/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/02/mipmap-vs-drawable-folders/" title="mipmap和drawable文件夹的区别" itemprop="url">mipmap和drawable文件夹的区别</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-03-02T02:26:20.000Z" itemprop="datePublished"> 发表于 2016-03-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>现在，通过Android Studio创建Android工程，默认会创建mipmap文件夹，而不是以前的drawable文件夹。那么mipmap和drawable文件夹到底有什么区别呢？  </p>
<h2 id="定位不同"><a href="#定位不同" class="headerlink" title="定位不同"></a>定位不同</h2><p>mipmap文件夹下的图标会通过Mipmap纹理技术进行优化。关于Mipmap纹理技术的介绍，请参考：<a href="http://blog.csdn.net/linber214/article/details/3342051/" target="_blank" rel="noopener">Mipmap纹理技术简介</a></p>
<p>经过查询官方和第三方资料，得出结论：</p>
<blockquote>
<p>mipmap文件夹下，仅仅建议放启动图标/app launcher icons，也就是应用安装后，会显示在桌面的那个图标。而其他的图片资源等，还是按照以前方式，放在drawable文件夹下。</p>
</blockquote>
<p>下面再详细阐述下，得出以上结论的依据：     </p>
<ol>
<li><p><a href="http://developer.android.com/intl/ko/tools/projects/index.html" target="_blank" rel="noopener">google官方关于mipmap和drawable的定位</a></p>
<blockquote>
<h3 id="drawable"><a href="#drawable" class="headerlink" title="drawable/"></a>drawable/</h3><p>For bitmap files (PNG, JPEG, or GIF), 9-Patch image files, and XML files that describe Drawable shapes or Drawable objects that contain multiple states (normal, pressed, or focused). See the Drawable resource type.    </p>
<h3 id="mipmap"><a href="#mipmap" class="headerlink" title="mipmap/"></a>mipmap/</h3><p><strong>For app launcher icons.</strong> The Android system retains the resources in this folder (and density-specific folders such as mipmap-xxxhdpi) regardless of the screen resolution of the device where your app is installed. This behavior allows launcher apps to pick the best resolution icon for your app to display on the home screen. For more information about using the mipmap folders, see Managing Launcher Icons as mipmap Resources.</p>
</blockquote>
</li>
<li><p><a href="http://stackoverflow.com/a/28065664" target="_blank" rel="noopener">stackoverflow上关于mipmap和drawable的区别</a></p>
<blockquote>
<p>The mipmap folders are for placing your app icons in only. Any other drawable assets you use should be placed in the relevant drawable folders as before.</p>
</blockquote>
</li>
</ol>
<h2 id="用法不同"><a href="#用法不同" class="headerlink" title="用法不同"></a>用法不同</h2><p>以ic_launcher为例。    </p>
<ol>
<li><p>放在mipmap文件夹下时，引用方式如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">android:icon="@mipmap/ic_launcher"</span><br><span class="line"></span><br><span class="line">R.mipmap.ic_launcher</span><br></pre></td></tr></table></figure>
</li>
<li><p>放在drawable文件夹下时，引用方式如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">android:icon="@drawable/ic_launcher"</span><br><span class="line"></span><br><span class="line">R.drawable.ic_launcher</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://blog.csdn.net/linber214/article/details/3342051/" target="_blank" rel="noopener">Mipmap纹理技术简介</a></li>
<li><a href="http://stackoverflow.com/a/28065664" target="_blank" rel="noopener">mipmap vs drawable folders</a></li>
<li><a href="http://developer.android.com/intl/ko/tools/projects/index.html" target="_blank" rel="noopener">google官方关于mipmap和drawable的定位</a></li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/02/mipmap-vs-drawable-folders/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/02/mipmap-vs-drawable-folders/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/29/widgets-modules-plugins/" title="组件化，模块化，插件化" itemprop="url">组件化，模块化，插件化</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/107081290425955479258?rel=author" title="snowdream" target="_blank" itemprop="author">snowdream</a>
		
  <p class="article-time">
    <time datetime="2016-02-29T14:15:54.000Z" itemprop="datePublished"> 发表于 2016-02-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>从事Adroid开发几年来，逐渐对Android应用架构和发展趋势有一点点认识，总结为三个词：“组件化，模块化，插件化”。<br>下面以一张图为基础，分别从这个三个方面进行阐述。如有不足，还请指正。    </p>
<img src="/2016/02/29/widgets-modules-plugins/unnamed0.svg" title="[大中型Android应用架构图]">
<h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><h3 id="为什么需要组件化？"><a href="#为什么需要组件化？" class="headerlink" title="为什么需要组件化？"></a>为什么需要组件化？</h3><p>Android的原生控件，基本上都没法直接拿来用，太丑了。另外一方面，原生控件在不同的Android版本上可能有不同风格，Holo，Material Design等。而从应用开发者角度来讲，他们需要一个拿来可用的，统一并且可延续的风格。在这种背景下，他们开始自定义系统控件，逐渐形成了自己的风格。比如，微信，支付宝，高德地图等。<br>这样之后，我们就需要将这种风格应用于TextView，Button，ImageView等标准化控件。组件化后，我们开发新功能，只需要直接引用带有自己风格的标准化控件，再稍微调整宽度，高度，字体大小等，就可以应付大多数情况了。</p>
<h3 id="不组件化会怎么样？"><a href="#不组件化会怎么样？" class="headerlink" title="不组件化会怎么样？"></a>不组件化会怎么样？</h3><p>如果没有形成自己的风格，又或者是形成固定风格后，不去进行组件化，会有什么后果呢？那大概的情况可能是这样，整个应用风格不统一。给你的整体印象可能是，你一会是在用苹果应用，一会是在用Android应用。打个不恰当的比方，一个男人，上身西装笔挺，下身大裤衩，脚上又是厚厚的棉鞋。</p>
<h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><h3 id="为什么需要模块化？"><a href="#为什么需要模块化？" class="headerlink" title="为什么需要模块化？"></a>为什么需要模块化？</h3><p>起初，一个应用几个人搞定，并不需要模块化这些事情。<br>但随着业务的发展，应用的迭代，可能出现人员越来越多，业务模块越来越多，越来越复杂的情况。在产品快速迭代过程中，假设某个业务的某个需求，由于外部原因等无法按时开发完成怎么办？或者由于其他原因，导致这部分功能有严重BUG怎么办？下掉这部分功能，又进行全量测试？划不来。硬着头皮修复BUG？万一来不及，错过发布日期怎么办？<br>这种情况下，应该按照业务，将业务模块分成几大块，同时按照业务模块对人员进行分组。<br>模块化建议遵循以下原则：</p>
<ol>
<li>模块之间松耦合。 如果模块之间耦合度很高，应该考虑是不是应该将两个模块合并在一起。</li>
<li>模块之间的约定/接口应该保持稳定。 模块化后，如果由于人员更替，导致模块之间的约定被破坏，或者接口被修改，没有及时同步，可能会造成模块之间的调用出现BUG。所以，这部分约定/接口应该保持稳定。万一要修改，确保通知到其他人，做相应调整。</li>
<li>模块定义清晰。不要为了模块化而强行进行模块化。</li>
</ol>
<h3 id="怎样进行模块化？"><a href="#怎样进行模块化？" class="headerlink" title="怎样进行模块化？"></a>怎样进行模块化？</h3><p>参考上面的图片。我的建议是这样的，分层进行。</p>
<h4 id="底层"><a href="#底层" class="headerlink" title="底层"></a>底层</h4><p>包含，基础库和底层库。</p>
<p><strong><em> 基础库 </em></strong></p>
<ol>
<li>Http，封装了常用的网络操作，例如：<a href="https://github.com/square/okhttp" target="_blank" rel="noopener">okhttp</a></li>
<li>Image，封装了图片相关的网络操作。（其中，如何防止内存溢出OOM问题尤其重要。） 例如：<a href="https://github.com/facebook/fresco" target="_blank" rel="noopener">Fresco</a></li>
<li>SQLITE,封装了数据库相关操作，也就是我们常说的ORM。例如：<a href="https://github.com/greenrobot/greenDAO" target="_blank" rel="noopener">greenDAO</a></li>
<li>其他就不一一列举了。</li>
</ol>
<p><strong><em> 底层库 </em></strong><br>底层库，主要是使用C/C++开发的跨平台的引擎或者库，以so的形式存在。例如：游戏引擎cocos2d</p>
<h4 id="中间层"><a href="#中间层" class="headerlink" title="中间层"></a>中间层</h4><p>每个公司根据业务不同，分成不同的业务模块。在底层的基础上，实现相应的业务功能。</p>
<h4 id="上层"><a href="#上层" class="headerlink" title="上层"></a>上层</h4><p>将所有业务模块聚合在一起，加上配置，形成主应用。<br>一个模块化做的好的应用，主应用应该很简单，并且非常的稳定。</p>
<h2 id="插件化"><a href="#插件化" class="headerlink" title="插件化"></a>插件化</h2><h3 id="为什么需要插件化？"><a href="#为什么需要插件化？" class="headerlink" title="为什么需要插件化？"></a>为什么需要插件化？</h3><ol>
<li>方法数限制的需要<br>大家都知道，一个dex的最大的方法数是固定的，65536.如果方法数超过这个数目，你根本无法正常的打包了。你可以采用MultiDex方案，但是看起来插件化的方案更靠谱一点。</li>
<li>安装包大小控制的需要<br>对于大部分应用来说，应用安装包越小，用户越容易安装。安装包越大，用户下载，安装，升级时，需要等待的时间越长，放弃应用的概率也就越高。通过插件化，可以将较小众的功能/模块进行插件化，用户需要时，点击下载，安装插件。</li>
<li>灵活性的需要<br>插件化之前，我们发布patch包总是要针对整个应用。而现在，我们只需要发布某个插件的更新即可。</li>
</ol>
<h3 id="怎么进行插件化？"><a href="#怎么进行插件化？" class="headerlink" title="怎么进行插件化？"></a>怎么进行插件化？</h3><p>并没有一个官方的插件化方案。各个大的互联网公司内部通常会搞一个插件化方案。庆幸的时，有一部分插件化方案被开源出来，供大家参考，使用。具体怎么进行插件化，超出了本人的讨论范围。如果大家有兴趣的话，可以到这里了解。<a href="https://github.com/snowdream/awesome-android#Framework_Plugin" target="_blank" rel="noopener">awesome-android</a></p>
<h3 id="哪些模块需要插件化？"><a href="#哪些模块需要插件化？" class="headerlink" title="哪些模块需要插件化？"></a>哪些模块需要插件化？</h3><p>对于核心底层模块，不建议进行插件化。即使要进行插件化，也要在最初的安装时，给全部安装完毕。<br>对于核心业务模块，可以进行插件化。要在最初的安装时，给全部安装完毕。<br>对于非核心业务模块，建议进行插件化。用户从网络下载，按需安装。</p>
<p>PS：facebook推出react native之后，移动应用又刮起了一阵Web风。苦于对Android平台和Windows开发环境的支持不足，暂时没法紧跟时代步伐了。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android/">android</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/android/">android</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/02/29/widgets-modules-plugins/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/02/29/widgets-modules-plugins/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/3/"><span></span>Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="snowdream" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/android/" title="android">android<sup>31</sup></a></li>
		  
		
		  
			<li><a href="/categories/books/" title="books">books<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/gradle/" title="gradle">gradle<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/java/" title="java">java<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/nodejs/" title="nodejs">nodejs<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/other/" title="other">other<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/project/" title="project">project<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/settings/" title="settings">settings<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/tools/" title="tools">tools<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/ubuntu/" title="ubuntu">ubuntu<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/android/" title="android">android<sup>32</sup></a></li>
			
		
			
				<li><a href="/tags/gradle/" title="gradle">gradle<sup>13</sup></a></li>
			
		
			
				<li><a href="/tags/kotlin/" title="kotlin">kotlin<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/xposed/" title="xposed">xposed<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/project/" title="project">project<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/groovy/" title="groovy">groovy<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/jni/" title="jni">jni<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/test/" title="test">test<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/java/" title="java">java<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/idea/" title="idea">idea<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ci/" title="ci">ci<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/nodejs/" title="nodejs">nodejs<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/npm/" title="npm">npm<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/maven/" title="maven">maven<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ubuntu/" title="ubuntu">ubuntu<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/tools/" title="tools">tools<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://yq.aliyun.com/users/30710776/own" target="_blank" title="面向开发者的开放型技术平台">云栖社区</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/snowdream" target="_blank" title="Github">Github</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.bwg2.com/index.html" target="_blank" title="搬瓦工VPS中文网">搬瓦工VPS中文网</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/blog/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Impossible is nothing！ <br/>
			Email: yanghui1986527#gmail.com QQ: 273247606 QQ Group：529327615</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/snowdream" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/821624" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		<a href="https://twitter.com/snowdream86" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		
		
		
		<a href="http://www.zhihu.com/people/snowdream1986" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		<a href="https://plus.google.com/107081290425955479258?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:yanghui1986527#gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="snowdream">snowdream</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-43950516-1', 'null');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>

<a href="https://github.com/snowdream"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
